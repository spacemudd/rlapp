import{d as J,q as G,C as R,r as _,w as K,J as h,a as u,b as i,e as o,u as s,g as Q,f as l,h as e,k as f,t as n,S as V,i as c,l as D,F as m,m as x,v as A,p as U,n as T}from"./app-B4CXrxA6.js";import{_ as W}from"./AppLayout.vue_vue_type_script_setup_true_lang-j6gg2DV2.js";import{_ as w}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-STRE1Pnw.js";import{_ as X}from"./Input.vue_vue_type_script_setup_true_lang-DDdmzXzU.js";import{_ as P,a as E}from"./CardContent.vue_vue_type_script_setup_true_lang-m18NTIW-.js";import{_ as M}from"./Badge.vue_vue_type_script_setup_true_lang-lG3NEwnp.js";import{C as L,_ as Y,a as Z,b as ee,c as F}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-DjycHvFz.js";import{_ as te,a as se,b as ae,c as oe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-FpgTBn8y.js";import{_ as re,a as le}from"./DialogHeader.vue_vue_type_script_setup_true_lang-N81L0UwJ.js";import{P as B}from"./plus-CV8EWWeN.js";import{S as ne}from"./search-Carplw_e.js";import{E as ie}from"./ellipsis-vertical-BJg7LDyT.js";import{S as de}from"./square-pen-XAvm42ww.js";import{P as ue,a as ce}from"./power-tsn9kwWg.js";import{T as fe}from"./trash-2-w8SOKkJu.js";import"./useForwardExpose-e-VyqxC-.js";import"./RovingFocusGroup-Bp_bgarQ.js";const me={class:"py-6"},pe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},_e={class:"md:flex md:items-center md:justify-between mb-6"},xe={class:"flex-1 min-w-0"},ge={class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"},ye={class:"mt-1 text-sm text-gray-500"},ve={class:"mt-4 flex md:mt-0 md:ml-4 rtl:md:mr-4 rtl:md:ml-0"},he={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},we={class:"relative"},be=["value"],ke=["value"],$e=["value"],Ce=["value"],Se={class:"text-sm text-gray-500 flex items-center"},Ve={class:"overflow-x-auto"},De={class:"w-full"},Ae={class:"bg-white divide-y divide-gray-200"},Ue={class:"px-6 py-4 whitespace-nowrap"},Fe={class:"flex items-center"},Te={class:"p-2 bg-blue-100 rounded-lg mr-3"},Le={class:"text-sm font-medium text-gray-900 hover:text-blue-600 transition-colors cursor-pointer"},Ne={class:"text-sm text-gray-500"},Pe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ee={class:"px-6 py-4 whitespace-nowrap"},Me={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Be={class:"px-6 py-4 whitespace-nowrap"},He={class:"flex flex-col"},Oe={key:0,class:"text-xs text-gray-500 mt-1"},je={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},qe={class:"space-y-1"},ze={key:0},Ie={key:1},Je={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ge={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Re={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Ke={key:0,class:"px-2 py-1 text-xs text-gray-500 border-t"},Qe={key:0},We={key:1},Xe={key:0,class:"text-center py-12"},Ye={class:"mt-6"},Ze={key:0,class:"mt-6 flex justify-center"},et={class:"flex items-center space-x-1"},tt=["innerHTML"],vt=J({__name:"Index",props:{vehicles:{},filters:{},statuses:{},categories:{},makes:{},ownershipStatuses:{}},setup(H){const{t:g}=G(),y=H;R();const b=_(y.filters.search||""),k=_(y.filters.status||""),$=_(y.filters.category||""),C=_(y.filters.make||""),S=_(y.filters.ownership||""),v=_(!1),p=_(null);K([b,k,$,C,S],()=>{h.get("/vehicles",{search:b.value||void 0,status:k.value||void 0,category:$.value||void 0,make:C.value||void 0,ownership:S.value||void 0},{preserveState:!0,replace:!0})});const O=d=>{switch(d){case"available":return"bg-green-500";case"rented":return"bg-blue-500";case"maintenance":return"bg-yellow-500";case"out_of_service":return"bg-red-500";default:return"bg-gray-500"}},j=d=>{p.value=d,v.value=!0},q=()=>{p.value&&h.delete(`/vehicles/${p.value.id}`,{onSuccess:()=>{v.value=!1,p.value=null}})},z=d=>{const a=d.status==="out_of_service"?"enable":"disable";h.patch(`/vehicles/${d.id}/${a}`,{},{preserveScroll:!0})},I=d=>d?`AED ${d.toFixed(2)}`:"N/A";return(d,a)=>(i(),u(m,null,[o(s(Q),{title:s(g)("vehicles")},null,8,["title"]),o(W,null,{default:l(()=>[e("div",me,[e("div",pe,[e("div",_e,[e("div",xe,[e("h2",ge,n(s(g)("vehicles")),1),e("p",ye,n(s(g)("manage_vehicles")),1)]),e("div",ve,[o(s(V),{href:d.route("vehicles.create")},{default:l(()=>[o(s(w),null,{default:l(()=>[o(s(B),{class:"w-4 h-4 mr-2 rtl:mr-0 rtl:ml-2"}),c(" "+n(s(g)("add_vehicle")),1)]),_:1})]),_:1},8,["href"])])]),o(s(P),{class:"mb-6"},{default:l(()=>[o(s(E),{class:"pt-6"},{default:l(()=>{var t;return[e("div",he,[e("div",we,[o(s(ne),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 rtl:left-auto rtl:right-3"}),o(s(X),{modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=r=>b.value=r),placeholder:s(g)("search_vehicles"),class:"pl-10 rtl:pr-10 rtl:pl-3"},null,8,["modelValue","placeholder"])]),D(e("select",{"onUpdate:modelValue":a[1]||(a[1]=r=>k.value=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[a[7]||(a[7]=e("option",{value:""},"All Statuses",-1)),(i(!0),u(m,null,x(d.statuses,r=>(i(),u("option",{key:r,value:r},n(r.charAt(0).toUpperCase()+r.slice(1).replace("_"," ")),9,be))),128))],512),[[A,k.value]]),D(e("select",{"onUpdate:modelValue":a[2]||(a[2]=r=>$.value=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[a[8]||(a[8]=e("option",{value:""},"All Categories",-1)),(i(!0),u(m,null,x(d.categories,r=>(i(),u("option",{key:r,value:r},n(r),9,ke))),128))],512),[[A,$.value]]),D(e("select",{"onUpdate:modelValue":a[3]||(a[3]=r=>C.value=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[a[9]||(a[9]=e("option",{value:""},"All Makes",-1)),(i(!0),u(m,null,x(d.makes,r=>(i(),u("option",{key:r,value:r},n(r),9,$e))),128))],512),[[A,C.value]]),D(e("select",{"onUpdate:modelValue":a[4]||(a[4]=r=>S.value=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[a[10]||(a[10]=e("option",{value:""},"All Ownership",-1)),(i(!0),u(m,null,x(d.ownershipStatuses,r=>(i(),u("option",{key:r,value:r},n(r.charAt(0).toUpperCase()+r.slice(1)),9,Ce))),128))],512),[[A,S.value]]),e("div",Se,n(((t=d.vehicles.meta)==null?void 0:t.total)||0)+" vehicle(s) found ",1)])]}),_:1})]),_:1}),o(s(P),null,{default:l(()=>[o(s(E),{class:"p-0"},{default:l(()=>[e("div",Ve,[e("table",De,[a[14]||(a[14]=e("thead",{class:"bg-gray-50 border-b"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Vehicle "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Plate Number "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Category "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Ownership "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Details "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Odometer "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Daily Rate "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",Ae,[(i(!0),u(m,null,x(d.vehicles.data,t=>(i(),u("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",Ue,[e("div",Fe,[e("div",Te,[o(s(L),{class:"h-4 w-4 text-blue-600"})]),e("div",null,[o(s(V),{href:`/vehicles/${t.id}`,class:"block"},{default:l(()=>[e("div",Le,n(t.make)+" "+n(t.model),1)]),_:2},1032,["href"]),e("div",Ne,n(t.year),1)])])]),e("td",Pe,n(t.plate_number),1),e("td",Ee,[o(M,{class:U([O(t.status),"text-white"])},{default:l(()=>[c(n(t.status.charAt(0).toUpperCase()+t.status.slice(1).replace("_"," ")),1)]),_:2},1032,["class"])]),e("td",Me,n(t.category),1),e("td",Be,[e("div",He,[o(M,{class:U([t.ownership_status==="owned"?"bg-blue-500":"bg-orange-500","text-white text-xs w-fit"])},{default:l(()=>[c(n(t.ownership_status.charAt(0).toUpperCase()+t.ownership_status.slice(1)),1)]),_:2},1032,["class"]),t.ownership_status==="borrowed"&&t.borrowed_from_office?(i(),u("div",Oe," From: "+n(t.borrowed_from_office),1)):f("",!0)])]),e("td",je,[e("div",qe,[e("div",null,n(t.color),1),t.seats?(i(),u("div",ze,n(t.seats)+" seats",1)):f("",!0),t.doors?(i(),u("div",Ie,n(t.doors)+" doors",1)):f("",!0)])]),e("td",Je,n(t.odometer.toLocaleString())+" km ",1),e("td",Ge,n(I(t.price_daily)),1),e("td",Re,[o(s(Y),null,{default:l(()=>[o(s(Z),{"as-child":""},{default:l(()=>[o(s(w),{variant:"ghost",size:"sm"},{default:l(()=>[o(s(ie),{class:"h-4 w-4"})]),_:1})]),_:1}),o(s(ee),{align:"end"},{default:l(()=>[o(s(F),{onClick:r=>s(h).visit(`/vehicles/${t.id}`)},{default:l(()=>[o(s(L),{class:"mr-2 h-4 w-4"}),a[11]||(a[11]=c(" View Details "))]),_:2,__:[11]},1032,["onClick"]),o(s(F),{onClick:r=>s(h).visit(`/vehicles/${t.id}/edit`)},{default:l(()=>[o(s(de),{class:"mr-2 h-4 w-4"}),a[12]||(a[12]=c(" Edit "))]),_:2,__:[12]},1032,["onClick"]),o(s(F),{onClick:r=>z(t)},{default:l(()=>[t.status==="out_of_service"?(i(),T(s(ue),{key:0,class:"mr-2 h-4 w-4"})):(i(),T(s(ce),{key:1,class:"mr-2 h-4 w-4"})),c(" "+n(t.status==="out_of_service"?"Enable":"Disable"),1)]),_:2},1032,["onClick"]),t.ownership_status==="borrowed"?(i(),u("div",Ke,[t.borrowed_from_office?(i(),u("div",Qe,"From: "+n(t.borrowed_from_office),1)):f("",!0),t.borrowing_end_date?(i(),u("div",We,"Until: "+n(new Date(t.borrowing_end_date).toLocaleDateString()),1)):f("",!0)])):f("",!0),o(s(F),{onClick:r=>j(t),class:"text-red-600"},{default:l(()=>[o(s(fe),{class:"mr-2 h-4 w-4"}),a[13]||(a[13]=c(" Delete "))]),_:2,__:[13]},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]))),128))])])]),d.vehicles.data.length===0?(i(),u("div",Xe,[o(s(L),{class:"mx-auto h-12 w-12 text-gray-400"}),a[16]||(a[16]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No vehicles found",-1)),a[17]||(a[17]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by adding a new vehicle.",-1)),e("div",Ye,[o(s(V),{href:d.route("vehicles.create")},{default:l(()=>[o(s(w),null,{default:l(()=>[o(s(B),{class:"w-4 h-4 mr-2"}),a[15]||(a[15]=c(" Add Vehicle "))]),_:1,__:[15]})]),_:1},8,["href"])])])):f("",!0)]),_:1})]),_:1}),d.vehicles.links&&d.vehicles.links.length>3?(i(),u("div",Ze,[e("nav",et,[(i(!0),u(m,null,x(d.vehicles.links,t=>(i(),u(m,{key:t.label},[t.url?(i(),T(s(V),{key:0,href:t.url,class:U(["px-3 py-2 text-sm font-medium rounded-md",t.active?"bg-blue-600 text-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"]),innerHTML:t.label},null,8,["href","class","innerHTML"])):(i(),u("span",{key:1,class:U(["px-3 py-2 text-sm font-medium rounded-md opacity-50 cursor-not-allowed text-gray-400"]),innerHTML:t.label},null,8,tt))],64))),128))])])):f("",!0),o(s(te),{open:v.value,"onUpdate:open":a[6]||(a[6]=t=>v.value=t)},{default:l(()=>[o(s(se),null,{default:l(()=>[o(s(re),null,{default:l(()=>[o(s(ae),null,{default:l(()=>a[18]||(a[18]=[c("Delete Vehicle")])),_:1,__:[18]}),o(s(oe),null,{default:l(()=>{var t,r,N;return[c(" Are you sure you want to delete "+n((t=p.value)==null?void 0:t.make)+" "+n((r=p.value)==null?void 0:r.model)+" ("+n((N=p.value)==null?void 0:N.plate_number)+")? This action cannot be undone. ",1)]}),_:1})]),_:1}),o(s(le),null,{default:l(()=>[o(s(w),{variant:"outline",onClick:a[5]||(a[5]=t=>v.value=!1)},{default:l(()=>a[19]||(a[19]=[c(" Cancel ")])),_:1,__:[19]}),o(s(w),{variant:"destructive",onClick:q},{default:l(()=>a[20]||(a[20]=[c(" Delete Vehicle ")])),_:1,__:[20]})]),_:1})]),_:1})]),_:1},8,["open"])])])]),_:1})],64))}});export{vt as default};
