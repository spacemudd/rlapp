import{z as P,E as j,r as C,A as V,x as B,c as d,o as n,d as s,e as t,C as I,w as l,a as e,i as _,t as i,D as p,g as c,j as U,F as y,p as A,k as M,b as g,n as q,f as v}from"./app-CAZ12x1D.js";import{_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-CWBHZpDB.js";import{c as R,_ as f}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B6CdmlMU.js";import{_ as H}from"./Input.vue_vue_type_script_setup_true_lang-dw5fRfhb.js";import{_ as T}from"./Card.vue_vue_type_script_setup_true_lang-DkmQYX9C.js";import{_ as E}from"./CardContent.vue_vue_type_script_setup_true_lang-KPstOoDk.js";import{_ as J}from"./Badge.vue_vue_type_script_setup_true_lang-bJB47Dp4.js";import{M as F,_ as K,a as O,b as Q,c as w,d as W}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-C_VWVAbV.js";import{P as L}from"./plus-C4gS69Cc.js";import{S as X}from"./search-DO-tE4ov.js";import{E as Y}from"./eye-SVMC0Dg9.js";import{S as Z}from"./square-pen-wkFwP_LY.js";import{T as tt}from"./trash-2-fNNtLFr0.js";import"./useForwardExpose-DgE0TLrR.js";import"./RovingFocusGroup-D_a6MLvt.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=R("EllipsisIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),st={class:"p-6 sm:p-8 max-w-7xl mx-auto"},at={class:"mb-6"},ot={class:"sm:flex sm:items-center sm:justify-between"},rt={class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl"},lt={class:"mt-1 text-sm text-gray-500"},it={class:"mt-4 sm:mt-0"},nt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ct={class:"relative"},dt=["value"],ut={class:"flex items-center space-x-2"},mt={class:"mb-4 text-sm text-gray-500"},ft={key:0,class:"overflow-x-auto"},pt={class:"w-full"},_t={class:"bg-white divide-y divide-gray-200"},gt={class:"px-6 py-4 whitespace-nowrap"},ht={class:"flex items-center"},xt={class:"text-sm font-medium text-gray-900"},yt={key:0,class:"text-sm text-gray-500 max-w-xs truncate"},vt={class:"px-6 py-4 whitespace-nowrap"},wt={class:"text-sm text-gray-900"},bt={class:"px-6 py-4 whitespace-nowrap"},kt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},$t={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},St={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Ct={key:1,class:"text-center py-12"},Vt={class:"mt-1 text-gray-500"},At={class:"mt-6"},Tt={key:0,class:"flex items-center justify-between"},Et={class:"text-sm text-gray-700"},Ft={class:"flex space-x-2"},Ot=P({__name:"Index",props:{locations:{},filters:{},statuses:{}},setup(N){const b=N,{t:h}=j(),u=C(b.filters.search||""),m=C(b.filters.status||""),k=()=>{const o=new URLSearchParams;u.value&&o.set("search",u.value),m.value&&o.set("status",m.value);const a=o.toString(),r=a?`${window.location.pathname}?${a}`:window.location.pathname;v.get(r,{},{preserveState:!0,replace:!0})};let $;V(u,()=>{clearTimeout($),$=setTimeout(k,300)}),V(m,k);const z=o=>{if(o.vehicles_count>0){alert("Cannot delete location that has vehicles assigned to it.");return}confirm(`Are you sure you want to delete "${o.name}"? This action cannot be undone.`)&&v.delete(`/locations/${o.id}`)},D=o=>{switch(o){case"active":return"bg-green-100 text-green-800 hover:bg-green-200";case"inactive":return"bg-red-100 text-red-800 hover:bg-red-200";default:return"bg-gray-100 text-gray-800 hover:bg-gray-200"}},S=()=>{u.value="",m.value="",v.get("/locations")},x=B(()=>u.value||m.value);return(o,a)=>(n(),d(y,null,[s(t(I),{title:t(h)("locations")},null,8,["title"]),s(G,null,{default:l(()=>[e("div",st,[e("div",at,[e("div",ot,[e("div",null,[e("h2",rt,i(t(h)("locations")),1),e("p",lt,i(t(h)("manage_locations")),1)]),e("div",it,[s(t(p),{href:o.route("locations.create")},{default:l(()=>[s(t(f),null,{default:l(()=>[s(t(L),{class:"w-4 h-4 mr-2"}),c(" "+i(t(h)("add_location")),1)]),_:1})]),_:1},8,["href"])])])]),s(t(T),{class:"mb-6"},{default:l(()=>[s(t(E),{class:"pt-6"},{default:l(()=>[e("div",nt,[e("div",ct,[s(t(X),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s(t(H),{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=r=>u.value=r),placeholder:"Search locations...",class:"pl-10"},null,8,["modelValue"])]),e("div",null,[U(e("select",{"onUpdate:modelValue":a[1]||(a[1]=r=>m.value=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[a[2]||(a[2]=e("option",{value:""},"All Statuses",-1)),(n(!0),d(y,null,A(o.statuses,r=>(n(),d("option",{key:r,value:r},i(r.charAt(0).toUpperCase()+r.slice(1)),9,dt))),128))],512),[[M,m.value]])]),e("div",ut,[x.value?(n(),g(t(f),{key:0,variant:"outline",onClick:S,class:"flex-1"},{default:l(()=>a[3]||(a[3]=[c(" Clear Filters ")])),_:1,__:[3]})):_("",!0)])])]),_:1})]),_:1}),e("div",mt," Showing "+i(o.locations.from||0)+" to "+i(o.locations.to||0)+" of "+i(o.locations.total)+" locations ",1),s(t(T),{class:"mb-6"},{default:l(()=>[s(t(E),{class:"p-0"},{default:l(()=>[o.locations.data.length>0?(n(),d("div",ft,[e("table",pt,[a[7]||(a[7]=e("thead",{class:"border-b border-gray-200 bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Location "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Address "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Vehicles "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Created "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",_t,[(n(!0),d(y,null,A(o.locations.data,r=>(n(),d("tr",{key:r.id,class:"hover:bg-gray-50 transition-colors"},[e("td",gt,[e("div",ht,[s(t(F),{class:"w-5 h-5 text-blue-600 mr-3"}),e("div",null,[e("div",xt,i(r.name),1),r.description?(n(),d("div",yt,i(r.description),1)):_("",!0)])])]),e("td",vt,[e("div",wt,i(r.full_address||"No address provided"),1)]),e("td",bt,[s(t(J),{class:q(D(r.status))},{default:l(()=>[c(i(r.status),1)]),_:2},1032,["class"])]),e("td",kt,i(r.vehicles_count)+" vehicle"+i(r.vehicles_count!==1?"s":""),1),e("td",$t,i(new Date(r.created_at).toLocaleDateString()),1),e("td",St,[s(t(K),null,{default:l(()=>[s(t(O),{"as-child":""},{default:l(()=>[s(t(f),{variant:"ghost",size:"sm",class:"w-8 h-8 p-0"},{default:l(()=>[s(t(et),{class:"w-4 h-4"})]),_:1})]),_:1}),s(t(Q),{align:"end"},{default:l(()=>[s(t(w),{"as-child":""},{default:l(()=>[s(t(p),{href:`/locations/${r.id}`,class:"flex items-center cursor-pointer"},{default:l(()=>[s(t(Y),{class:"w-4 h-4 mr-2"}),a[4]||(a[4]=c(" View "))]),_:2,__:[4]},1032,["href"])]),_:2},1024),s(t(w),{"as-child":""},{default:l(()=>[s(t(p),{href:`/locations/${r.id}/edit`,class:"flex items-center cursor-pointer"},{default:l(()=>[s(t(Z),{class:"w-4 h-4 mr-2"}),a[5]||(a[5]=c(" Edit "))]),_:2,__:[5]},1032,["href"])]),_:2},1024),s(t(W)),s(t(w),{onClick:Lt=>z(r),class:"text-red-600 focus:text-red-600 cursor-pointer",disabled:r.vehicles_count>0},{default:l(()=>[s(t(tt),{class:"w-4 h-4 mr-2"}),a[6]||(a[6]=c(" Delete "))]),_:2,__:[6]},1032,["onClick","disabled"])]),_:2},1024)]),_:2},1024)])]))),128))])])])):(n(),d("div",Ct,[s(t(F),{class:"mx-auto h-12 w-12 text-gray-400"}),a[10]||(a[10]=e("h3",{class:"mt-2 text-lg font-medium text-gray-900"},"No locations found",-1)),e("p",Vt,i(x.value?"Try adjusting your search criteria.":"Get started by adding your first location."),1),e("div",At,[x.value?(n(),g(t(f),{key:1,variant:"outline",onClick:S},{default:l(()=>a[9]||(a[9]=[c(" Clear Filters ")])),_:1,__:[9]})):(n(),g(t(p),{key:0,href:o.route("locations.create")},{default:l(()=>[s(t(f),null,{default:l(()=>[s(t(L),{class:"w-4 h-4 mr-2"}),a[8]||(a[8]=c(" Add Location "))]),_:1,__:[8]})]),_:1},8,["href"]))])]))]),_:1})]),_:1}),o.locations.last_page>1?(n(),d("div",Tt,[e("p",Et," Showing "+i(o.locations.from)+" to "+i(o.locations.to)+" of "+i(o.locations.total)+" results ",1),e("div",Ft,[o.locations.current_page>1?(n(),g(t(p),{key:0,href:`/locations?page=${o.locations.current_page-1}`,"preserve-state":""},{default:l(()=>[s(t(f),{variant:"outline",size:"sm"},{default:l(()=>a[11]||(a[11]=[c("Previous")])),_:1,__:[11]})]),_:1},8,["href"])):_("",!0),o.locations.current_page<o.locations.last_page?(n(),g(t(p),{key:1,href:`/locations?page=${o.locations.current_page+1}`,"preserve-state":""},{default:l(()=>[s(t(f),{variant:"outline",size:"sm"},{default:l(()=>a[12]||(a[12]=[c("Next")])),_:1,__:[12]})]),_:1},8,["href"])):_("",!0)])])):_("",!0)])]),_:1})],64))}});export{Ot as default};
