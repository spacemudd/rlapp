import{d as q,B as G,r as _,w as I,J as v,a as u,b as n,e as o,u as a,g as R,f as l,h as e,k as f,S as V,i as c,l as S,F as p,m as x,t as i,v as D,p as A,n as F}from"./app-MFR4BbP7.js";import{_ as K}from"./AppLayout.vue_vue_type_script_setup_true_lang-DGSkcNZ3.js";import{_ as w}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BqggL-pA.js";import{_ as Q}from"./Input.vue_vue_type_script_setup_true_lang-CY_VYH_P.js";import{_ as M,a as N}from"./CardContent.vue_vue_type_script_setup_true_lang-B8g2wv9O.js";import{_ as P}from"./Badge.vue_vue_type_script_setup_true_lang-BQWFO4zU.js";import{C as T,_ as W,a as X,b as Y,c as U}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-BFRXg0WU.js";import{_ as Z,a as ee,b as te,c as se}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BbdgFYV3.js";import{_ as ae,a as oe}from"./DialogHeader.vue_vue_type_script_setup_true_lang-DPaRI3Us.js";import{P as E}from"./plus-DI-GgV21.js";import{S as re}from"./search-B3LMcKb1.js";import{E as le}from"./ellipsis-vertical-Bpe7W1i_.js";import{S as ne}from"./square-pen-AuSQjXk8.js";import{P as ie,a as de}from"./power-CUnCQk1Z.js";import{T as ue}from"./trash-2-DJD9MHB5.js";import"./useForwardExpose-BjvGK7kz.js";import"./RovingFocusGroup-BqEWoKPP.js";const ce={class:"py-6"},fe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},pe={class:"md:flex md:items-center md:justify-between mb-6"},me={class:"mt-4 flex md:mt-0 md:ml-4"},_e={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},xe={class:"relative"},ge=["value"],ye=["value"],ve=["value"],we=["value"],he={class:"text-sm text-gray-500 flex items-center"},be={class:"overflow-x-auto"},ke={class:"w-full"},$e={class:"bg-white divide-y divide-gray-200"},Ce={class:"px-6 py-4 whitespace-nowrap"},Ve={class:"flex items-center"},Se={class:"p-2 bg-blue-100 rounded-lg mr-3"},De={class:"text-sm font-medium text-gray-900 hover:text-blue-600 transition-colors cursor-pointer"},Ae={class:"text-sm text-gray-500"},Ue={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Fe={class:"px-6 py-4 whitespace-nowrap"},Te={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Le={class:"px-6 py-4 whitespace-nowrap"},Me={class:"flex flex-col"},Ne={key:0,class:"text-xs text-gray-500 mt-1"},Pe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ee={class:"space-y-1"},Be={key:0},He={key:1},Oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},je={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ze={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Je={key:0,class:"px-2 py-1 text-xs text-gray-500 border-t"},qe={key:0},Ge={key:1},Ie={key:0,class:"text-center py-12"},Re={class:"mt-6"},Ke={key:0,class:"mt-6 flex justify-center"},Qe={class:"flex items-center space-x-1"},We=["innerHTML"],mt=q({__name:"Index",props:{vehicles:{},filters:{},statuses:{},categories:{},makes:{},ownershipStatuses:{}},setup(B){const g=B;G();const h=_(g.filters.search||""),b=_(g.filters.status||""),k=_(g.filters.category||""),$=_(g.filters.make||""),C=_(g.filters.ownership||""),y=_(!1),m=_(null);I([h,b,k,$,C],()=>{v.get("/vehicles",{search:h.value||void 0,status:b.value||void 0,category:k.value||void 0,make:$.value||void 0,ownership:C.value||void 0},{preserveState:!0,replace:!0})});const H=d=>{switch(d){case"available":return"bg-green-500";case"rented":return"bg-blue-500";case"maintenance":return"bg-yellow-500";case"out_of_service":return"bg-red-500";default:return"bg-gray-500"}},O=d=>{m.value=d,y.value=!0},j=()=>{m.value&&v.delete(`/vehicles/${m.value.id}`,{onSuccess:()=>{y.value=!1,m.value=null}})},z=d=>{const s=d.status==="out_of_service"?"enable":"disable";v.patch(`/vehicles/${d.id}/${s}`,{},{preserveScroll:!0})},J=d=>d?`AED ${d.toFixed(2)}`:"N/A";return(d,s)=>(n(),u(p,null,[o(a(R),{title:"Vehicles"}),o(K,null,{default:l(()=>[e("div",ce,[e("div",fe,[e("div",pe,[s[8]||(s[8]=e("div",{class:"flex-1 min-w-0"},[e("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"}," Vehicles "),e("p",{class:"mt-1 text-sm text-gray-500"}," Manage your fleet of rental vehicles ")],-1)),e("div",me,[o(a(V),{href:d.route("vehicles.create")},{default:l(()=>[o(a(w),null,{default:l(()=>[o(a(E),{class:"w-4 h-4 mr-2"}),s[7]||(s[7]=c(" Add Vehicle "))]),_:1,__:[7]})]),_:1},8,["href"])])]),o(a(M),{class:"mb-6"},{default:l(()=>[o(a(N),{class:"pt-6"},{default:l(()=>{var t;return[e("div",_e,[e("div",xe,[o(a(re),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o(a(Q),{modelValue:h.value,"onUpdate:modelValue":s[0]||(s[0]=r=>h.value=r),placeholder:"Search vehicles...",class:"pl-10"},null,8,["modelValue"])]),S(e("select",{"onUpdate:modelValue":s[1]||(s[1]=r=>b.value=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[s[9]||(s[9]=e("option",{value:""},"All Statuses",-1)),(n(!0),u(p,null,x(d.statuses,r=>(n(),u("option",{key:r,value:r},i(r.charAt(0).toUpperCase()+r.slice(1).replace("_"," ")),9,ge))),128))],512),[[D,b.value]]),S(e("select",{"onUpdate:modelValue":s[2]||(s[2]=r=>k.value=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[s[10]||(s[10]=e("option",{value:""},"All Categories",-1)),(n(!0),u(p,null,x(d.categories,r=>(n(),u("option",{key:r,value:r},i(r),9,ye))),128))],512),[[D,k.value]]),S(e("select",{"onUpdate:modelValue":s[3]||(s[3]=r=>$.value=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[s[11]||(s[11]=e("option",{value:""},"All Makes",-1)),(n(!0),u(p,null,x(d.makes,r=>(n(),u("option",{key:r,value:r},i(r),9,ve))),128))],512),[[D,$.value]]),S(e("select",{"onUpdate:modelValue":s[4]||(s[4]=r=>C.value=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[s[12]||(s[12]=e("option",{value:""},"All Ownership",-1)),(n(!0),u(p,null,x(d.ownershipStatuses,r=>(n(),u("option",{key:r,value:r},i(r.charAt(0).toUpperCase()+r.slice(1)),9,we))),128))],512),[[D,C.value]]),e("div",he,i(((t=d.vehicles.meta)==null?void 0:t.total)||0)+" vehicle(s) found ",1)])]}),_:1})]),_:1}),o(a(M),null,{default:l(()=>[o(a(N),{class:"p-0"},{default:l(()=>[e("div",be,[e("table",ke,[s[16]||(s[16]=e("thead",{class:"bg-gray-50 border-b"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Vehicle "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Plate Number "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Category "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Ownership "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Details "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Odometer "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Daily Rate "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",$e,[(n(!0),u(p,null,x(d.vehicles.data,t=>(n(),u("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",Ce,[e("div",Ve,[e("div",Se,[o(a(T),{class:"h-4 w-4 text-blue-600"})]),e("div",null,[o(a(V),{href:`/vehicles/${t.id}`,class:"block"},{default:l(()=>[e("div",De,i(t.make)+" "+i(t.model),1)]),_:2},1032,["href"]),e("div",Ae,i(t.year),1)])])]),e("td",Ue,i(t.plate_number),1),e("td",Fe,[o(P,{class:A([H(t.status),"text-white"])},{default:l(()=>[c(i(t.status.charAt(0).toUpperCase()+t.status.slice(1).replace("_"," ")),1)]),_:2},1032,["class"])]),e("td",Te,i(t.category),1),e("td",Le,[e("div",Me,[o(P,{class:A([t.ownership_status==="owned"?"bg-blue-500":"bg-orange-500","text-white text-xs w-fit"])},{default:l(()=>[c(i(t.ownership_status.charAt(0).toUpperCase()+t.ownership_status.slice(1)),1)]),_:2},1032,["class"]),t.ownership_status==="borrowed"&&t.borrowed_from_office?(n(),u("div",Ne," From: "+i(t.borrowed_from_office),1)):f("",!0)])]),e("td",Pe,[e("div",Ee,[e("div",null,i(t.color),1),t.seats?(n(),u("div",Be,i(t.seats)+" seats",1)):f("",!0),t.doors?(n(),u("div",He,i(t.doors)+" doors",1)):f("",!0)])]),e("td",Oe,i(t.odometer.toLocaleString())+" km ",1),e("td",je,i(J(t.price_daily)),1),e("td",ze,[o(a(W),null,{default:l(()=>[o(a(X),{"as-child":""},{default:l(()=>[o(a(w),{variant:"ghost",size:"sm"},{default:l(()=>[o(a(le),{class:"h-4 w-4"})]),_:1})]),_:1}),o(a(Y),{align:"end"},{default:l(()=>[o(a(U),{onClick:r=>a(v).visit(`/vehicles/${t.id}`)},{default:l(()=>[o(a(T),{class:"mr-2 h-4 w-4"}),s[13]||(s[13]=c(" View Details "))]),_:2,__:[13]},1032,["onClick"]),o(a(U),{onClick:r=>a(v).visit(`/vehicles/${t.id}/edit`)},{default:l(()=>[o(a(ne),{class:"mr-2 h-4 w-4"}),s[14]||(s[14]=c(" Edit "))]),_:2,__:[14]},1032,["onClick"]),o(a(U),{onClick:r=>z(t)},{default:l(()=>[t.status==="out_of_service"?(n(),F(a(ie),{key:0,class:"mr-2 h-4 w-4"})):(n(),F(a(de),{key:1,class:"mr-2 h-4 w-4"})),c(" "+i(t.status==="out_of_service"?"Enable":"Disable"),1)]),_:2},1032,["onClick"]),t.ownership_status==="borrowed"?(n(),u("div",Je,[t.borrowed_from_office?(n(),u("div",qe,"From: "+i(t.borrowed_from_office),1)):f("",!0),t.borrowing_end_date?(n(),u("div",Ge,"Until: "+i(new Date(t.borrowing_end_date).toLocaleDateString()),1)):f("",!0)])):f("",!0),o(a(U),{onClick:r=>O(t),class:"text-red-600"},{default:l(()=>[o(a(ue),{class:"mr-2 h-4 w-4"}),s[15]||(s[15]=c(" Delete "))]),_:2,__:[15]},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]))),128))])])]),d.vehicles.data.length===0?(n(),u("div",Ie,[o(a(T),{class:"mx-auto h-12 w-12 text-gray-400"}),s[18]||(s[18]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No vehicles found",-1)),s[19]||(s[19]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by adding a new vehicle.",-1)),e("div",Re,[o(a(V),{href:d.route("vehicles.create")},{default:l(()=>[o(a(w),null,{default:l(()=>[o(a(E),{class:"w-4 h-4 mr-2"}),s[17]||(s[17]=c(" Add Vehicle "))]),_:1,__:[17]})]),_:1},8,["href"])])])):f("",!0)]),_:1})]),_:1}),d.vehicles.links&&d.vehicles.links.length>3?(n(),u("div",Ke,[e("nav",Qe,[(n(!0),u(p,null,x(d.vehicles.links,t=>(n(),u(p,{key:t.label},[t.url?(n(),F(a(V),{key:0,href:t.url,class:A(["px-3 py-2 text-sm font-medium rounded-md",t.active?"bg-blue-600 text-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"]),innerHTML:t.label},null,8,["href","class","innerHTML"])):(n(),u("span",{key:1,class:A(["px-3 py-2 text-sm font-medium rounded-md opacity-50 cursor-not-allowed text-gray-400"]),innerHTML:t.label},null,8,We))],64))),128))])])):f("",!0),o(a(Z),{open:y.value,"onUpdate:open":s[6]||(s[6]=t=>y.value=t)},{default:l(()=>[o(a(ee),null,{default:l(()=>[o(a(ae),null,{default:l(()=>[o(a(te),null,{default:l(()=>s[20]||(s[20]=[c("Delete Vehicle")])),_:1,__:[20]}),o(a(se),null,{default:l(()=>{var t,r,L;return[c(" Are you sure you want to delete "+i((t=m.value)==null?void 0:t.make)+" "+i((r=m.value)==null?void 0:r.model)+" ("+i((L=m.value)==null?void 0:L.plate_number)+")? This action cannot be undone. ",1)]}),_:1})]),_:1}),o(a(oe),null,{default:l(()=>[o(a(w),{variant:"outline",onClick:s[5]||(s[5]=t=>y.value=!1)},{default:l(()=>s[21]||(s[21]=[c(" Cancel ")])),_:1,__:[21]}),o(a(w),{variant:"destructive",onClick:j},{default:l(()=>s[22]||(s[22]=[c(" Delete Vehicle ")])),_:1,__:[22]})]),_:1})]),_:1})]),_:1},8,["open"])])])]),_:1})],64))}});export{mt as default};
