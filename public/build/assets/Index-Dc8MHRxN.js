import{y as P,C as D,r as C,z as V,p as j,c as d,o as n,d as s,u as e,B as I,w as l,a as t,g as _,t as i,S as f,e as c,h as U,F as y,l as T,i as M,b as g,n as q,J as v}from"./app-DGPdy8tE.js";import{_ as J}from"./AppLayout.vue_vue_type_script_setup_true_lang-DjXAUWl4.js";import{c as G,_ as p}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CNQnzH42.js";import{_ as R}from"./Input.vue_vue_type_script_setup_true_lang-D-rdJcos.js";import{_ as A}from"./Card.vue_vue_type_script_setup_true_lang-Co6J2EDk.js";import{_ as F}from"./CardContent.vue_vue_type_script_setup_true_lang-Du459S1j.js";import{_ as H}from"./Badge.vue_vue_type_script_setup_true_lang-Qg0OJQBV.js";import{M as L,_ as K,a as O,b as Q,c as w,d as W}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-CiHZFCnI.js";import{P as N}from"./plus-qOnMRLUf.js";import{S as X}from"./search-Df_Tew79.js";import{E as Y}from"./eye-DzH8rmDM.js";import{S as Z}from"./square-pen-CT2dwMII.js";import{T as ee}from"./trash-2-BG7sNOXV.js";import"./useForwardExpose-C0eXaZLz.js";import"./RovingFocusGroup-ChOkdtX6.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=G("EllipsisIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),se={class:"p-6 sm:p-8 max-w-7xl mx-auto"},ae={class:"mb-6"},oe={class:"sm:flex sm:items-center sm:justify-between"},re={class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl"},le={class:"mt-1 text-sm text-gray-500"},ie={class:"mt-4 sm:mt-0"},ne={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ce={class:"relative"},de=["value"],ue={class:"flex items-center space-x-2"},me={class:"mb-4 text-sm text-gray-500"},pe={key:0,class:"overflow-x-auto"},fe={class:"w-full"},_e={class:"bg-white divide-y divide-gray-200"},ge={class:"px-6 py-4 whitespace-nowrap"},he={class:"flex items-center"},xe={class:"text-sm font-medium text-gray-900"},ye={key:0,class:"text-sm text-gray-500 max-w-xs truncate"},ve={class:"px-6 py-4 whitespace-nowrap"},we={class:"text-sm text-gray-900"},be={class:"px-6 py-4 whitespace-nowrap"},ke={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Se={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},$e={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Ce={key:1,class:"text-center py-12"},Ve={class:"mt-1 text-gray-500"},Te={class:"mt-6"},Ae={key:0,class:"flex items-center justify-between"},Fe={class:"text-sm text-gray-700"},Le={class:"flex space-x-2"},Oe=P({__name:"Index",props:{locations:{},filters:{},statuses:{}},setup(z){const b=z,{t:h}=D(),u=C(b.filters.search||""),m=C(b.filters.status||""),k=()=>{const o=new URLSearchParams;u.value&&o.set("search",u.value),m.value&&o.set("status",m.value);const a=o.toString(),r=a?`${window.location.pathname}?${a}`:window.location.pathname;v.get(r,{},{preserveState:!0,replace:!0})};let S;V(u,()=>{clearTimeout(S),S=setTimeout(k,300)}),V(m,k);const B=o=>{if(o.vehicles_count>0){alert("Cannot delete location that has vehicles assigned to it.");return}confirm(`Are you sure you want to delete "${o.name}"? This action cannot be undone.`)&&v.delete(`/locations/${o.id}`)},E=o=>{switch(o){case"active":return"bg-green-100 text-green-800 hover:bg-green-200";case"inactive":return"bg-red-100 text-red-800 hover:bg-red-200";default:return"bg-gray-100 text-gray-800 hover:bg-gray-200"}},$=()=>{u.value="",m.value="",v.get("/locations")},x=j(()=>u.value||m.value);return(o,a)=>(n(),d(y,null,[s(e(I),{title:e(h)("locations")},null,8,["title"]),s(J,null,{default:l(()=>[t("div",se,[t("div",ae,[t("div",oe,[t("div",null,[t("h2",re,i(e(h)("locations")),1),t("p",le,i(e(h)("manage_locations")),1)]),t("div",ie,[s(e(f),{href:o.route("locations.create")},{default:l(()=>[s(e(p),null,{default:l(()=>[s(e(N),{class:"w-4 h-4 mr-2"}),c(" "+i(e(h)("add_location")),1)]),_:1})]),_:1},8,["href"])])])]),s(e(A),{class:"mb-6"},{default:l(()=>[s(e(F),{class:"pt-6"},{default:l(()=>[t("div",ne,[t("div",ce,[s(e(X),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s(e(R),{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=r=>u.value=r),placeholder:"Search locations...",class:"pl-10"},null,8,["modelValue"])]),t("div",null,[U(t("select",{"onUpdate:modelValue":a[1]||(a[1]=r=>m.value=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[a[2]||(a[2]=t("option",{value:""},"All Statuses",-1)),(n(!0),d(y,null,T(o.statuses,r=>(n(),d("option",{key:r,value:r},i(r.charAt(0).toUpperCase()+r.slice(1)),9,de))),128))],512),[[M,m.value]])]),t("div",ue,[x.value?(n(),g(e(p),{key:0,variant:"outline",onClick:$,class:"flex-1"},{default:l(()=>a[3]||(a[3]=[c(" Clear Filters ")])),_:1,__:[3]})):_("",!0)])])]),_:1})]),_:1}),t("div",me," Showing "+i(o.locations.from||0)+" to "+i(o.locations.to||0)+" of "+i(o.locations.total)+" locations ",1),s(e(A),{class:"mb-6"},{default:l(()=>[s(e(F),{class:"p-0"},{default:l(()=>[o.locations.data.length>0?(n(),d("div",pe,[t("table",fe,[a[7]||(a[7]=t("thead",{class:"border-b border-gray-200 bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Location "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Address "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Vehicles "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Created "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",_e,[(n(!0),d(y,null,T(o.locations.data,r=>(n(),d("tr",{key:r.id,class:"hover:bg-gray-50 transition-colors"},[t("td",ge,[t("div",he,[s(e(L),{class:"w-5 h-5 text-blue-600 mr-3"}),t("div",null,[t("div",xe,i(r.name),1),r.description?(n(),d("div",ye,i(r.description),1)):_("",!0)])])]),t("td",ve,[t("div",we,i(r.full_address||"No address provided"),1)]),t("td",be,[s(e(H),{class:q(E(r.status))},{default:l(()=>[c(i(r.status),1)]),_:2},1032,["class"])]),t("td",ke,i(r.vehicles_count)+" vehicle"+i(r.vehicles_count!==1?"s":""),1),t("td",Se,i(new Date(r.created_at).toLocaleDateString()),1),t("td",$e,[s(e(K),null,{default:l(()=>[s(e(O),{"as-child":""},{default:l(()=>[s(e(p),{variant:"ghost",size:"sm",class:"w-8 h-8 p-0"},{default:l(()=>[s(e(te),{class:"w-4 h-4"})]),_:1})]),_:1}),s(e(Q),{align:"end"},{default:l(()=>[s(e(w),{"as-child":""},{default:l(()=>[s(e(f),{href:`/locations/${r.id}`,class:"flex items-center cursor-pointer"},{default:l(()=>[s(e(Y),{class:"w-4 h-4 mr-2"}),a[4]||(a[4]=c(" View "))]),_:2,__:[4]},1032,["href"])]),_:2},1024),s(e(w),{"as-child":""},{default:l(()=>[s(e(f),{href:`/locations/${r.id}/edit`,class:"flex items-center cursor-pointer"},{default:l(()=>[s(e(Z),{class:"w-4 h-4 mr-2"}),a[5]||(a[5]=c(" Edit "))]),_:2,__:[5]},1032,["href"])]),_:2},1024),s(e(W)),s(e(w),{onClick:Ne=>B(r),class:"text-red-600 focus:text-red-600 cursor-pointer",disabled:r.vehicles_count>0},{default:l(()=>[s(e(ee),{class:"w-4 h-4 mr-2"}),a[6]||(a[6]=c(" Delete "))]),_:2,__:[6]},1032,["onClick","disabled"])]),_:2},1024)]),_:2},1024)])]))),128))])])])):(n(),d("div",Ce,[s(e(L),{class:"mx-auto h-12 w-12 text-gray-400"}),a[10]||(a[10]=t("h3",{class:"mt-2 text-lg font-medium text-gray-900"},"No locations found",-1)),t("p",Ve,i(x.value?"Try adjusting your search criteria.":"Get started by adding your first location."),1),t("div",Te,[x.value?(n(),g(e(p),{key:1,variant:"outline",onClick:$},{default:l(()=>a[9]||(a[9]=[c(" Clear Filters ")])),_:1,__:[9]})):(n(),g(e(f),{key:0,href:o.route("locations.create")},{default:l(()=>[s(e(p),null,{default:l(()=>[s(e(N),{class:"w-4 h-4 mr-2"}),a[8]||(a[8]=c(" Add Location "))]),_:1,__:[8]})]),_:1},8,["href"]))])]))]),_:1})]),_:1}),o.locations.last_page>1?(n(),d("div",Ae,[t("p",Fe," Showing "+i(o.locations.from)+" to "+i(o.locations.to)+" of "+i(o.locations.total)+" results ",1),t("div",Le,[o.locations.current_page>1?(n(),g(e(f),{key:0,href:`/locations?page=${o.locations.current_page-1}`,"preserve-state":""},{default:l(()=>[s(e(p),{variant:"outline",size:"sm"},{default:l(()=>a[11]||(a[11]=[c("Previous")])),_:1,__:[11]})]),_:1},8,["href"])):_("",!0),o.locations.current_page<o.locations.last_page?(n(),g(e(f),{key:1,href:`/locations?page=${o.locations.current_page+1}`,"preserve-state":""},{default:l(()=>[s(e(p),{variant:"outline",size:"sm"},{default:l(()=>a[12]||(a[12]=[c("Next")])),_:1,__:[12]})]),_:1},8,["href"])):_("",!0)])])):_("",!0)])]),_:1})],64))}});export{Oe as default};
