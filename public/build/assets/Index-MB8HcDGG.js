import{d as H,q as I,r as g,w as W,W as v,c as u,o as i,a,u as l,g as q,b as o,e as t,h as f,S as T,i as c,k as A,F as _,m as k,t as n,v as L,f as h,n as S}from"./app-B0Y7WZKT.js";import{_ as z}from"./AppLayout.vue_vue_type_script_setup_true_lang-BeU8Igmz.js";import{c as O,_ as w}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CdW4O66k.js";import{_ as G}from"./Input.vue_vue_type_script_setup_true_lang-B4KzdOqg.js";import{_ as M,c as E,a as J,b as K}from"./CardTitle.vue_vue_type_script_setup_true_lang-DBaR-C81.js";import{P as Q,a as R,_ as X}from"./Badge.vue_vue_type_script_setup_true_lang-BJFyhxFS.js";import{C as P,a as Y,b as Z,c as ee,d as $}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-C9UPZ3OS.js";import{_ as se,a as te,b as le,c as ae}from"./DialogTitle.vue_vue_type_script_setup_true_lang-C6PMbsTz.js";import{_ as oe,a as re}from"./DialogHeader.vue_vue_type_script_setup_true_lang-BvP1sInc.js";import{P as ne,S as ie}from"./search-DraEAIwB.js";import{S as de}from"./square-pen-CNh2pYqN.js";import{T as ue}from"./trash-2-DmmDi-kK.js";import"./useForwardExpose-CwVdPpiZ.js";import"./RovingFocusGroup-CiOKQAuO.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=O("EllipsisVerticalIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),me={class:"py-6"},fe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},_e={class:"md:flex md:items-center md:justify-between mb-6"},pe={class:"mt-4 flex md:mt-0 md:ml-4"},ge={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ve={class:"relative"},ye=["value"],xe=["value"],be={class:"text-sm text-gray-500 flex items-center"},ke={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},he={class:"flex items-start justify-between"},we={class:"flex items-center space-x-3"},$e={class:"p-2 bg-blue-100 rounded-lg"},Ce={class:"text-sm text-gray-500"},Ve={class:"space-y-3"},Se={class:"flex items-center justify-between"},De={class:"text-sm text-gray-500"},Te={class:"grid grid-cols-2 gap-2 text-sm"},Ae={class:"ml-1"},Le={key:0},Me={class:"ml-1"},Ee={class:"ml-1"},Pe={key:1},Ue={class:"ml-1"},Fe={key:0,class:"pt-2 border-t"},Ne={class:"grid grid-cols-3 gap-2 text-xs"},je={class:"font-medium"},Be={key:0},He={class:"font-medium"},Ie={key:1},We={class:"font-medium"},qe={key:0,class:"mt-6 flex justify-center"},ze={class:"flex items-center space-x-1"},Oe=["innerHTML"],rs=H({__name:"Index",props:{vehicles:{},filters:{},statuses:{},categories:{}},setup(U){const C=U;I();const y=g(C.filters.search||""),x=g(C.filters.status||""),b=g(C.filters.category||""),p=g(!1),m=g(null);W([y,x,b],()=>{v.get("/vehicles",{search:y.value||void 0,status:x.value||void 0,category:b.value||void 0},{preserveState:!0,replace:!0})});const F=d=>{switch(d){case"available":return"bg-green-500";case"rented":return"bg-blue-500";case"maintenance":return"bg-yellow-500";case"out_of_service":return"bg-red-500";default:return"bg-gray-500"}},N=d=>{m.value=d,p.value=!0},j=()=>{m.value&&v.delete(`/vehicles/${m.value.id}`,{onSuccess:()=>{p.value=!1,m.value=null}})},B=d=>{const e=d.status==="out_of_service"?"enable":"disable";v.patch(`/vehicles/${d.id}/${e}`,{},{preserveScroll:!0})},V=d=>d?`AED ${d.toFixed(2)}`:"N/A";return(d,e)=>(i(),u(_,null,[a(l(q),{title:"Vehicles"}),a(z,null,{default:o(()=>[t("div",me,[t("div",fe,[t("div",_e,[e[6]||(e[6]=t("div",{class:"flex-1 min-w-0"},[t("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"}," Vehicles "),t("p",{class:"mt-1 text-sm text-gray-500"}," Manage your fleet of rental vehicles ")],-1)),t("div",pe,[a(l(T),{href:d.route("vehicles.create")},{default:o(()=>[a(l(w),null,{default:o(()=>[a(l(ne),{class:"w-4 h-4 mr-2"}),e[5]||(e[5]=c(" Add Vehicle "))]),_:1,__:[5]})]),_:1},8,["href"])])]),a(l(M),{class:"mb-6"},{default:o(()=>[a(l(E),{class:"pt-6"},{default:o(()=>{var s;return[t("div",ge,[t("div",ve,[a(l(ie),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a(l(G),{modelValue:y.value,"onUpdate:modelValue":e[0]||(e[0]=r=>y.value=r),placeholder:"Search vehicles...",class:"pl-10"},null,8,["modelValue"])]),A(t("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>x.value=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[e[7]||(e[7]=t("option",{value:""},"All Statuses",-1)),(i(!0),u(_,null,k(d.statuses,r=>(i(),u("option",{key:r,value:r},n(r.charAt(0).toUpperCase()+r.slice(1).replace("_"," ")),9,ye))),128))],512),[[L,x.value]]),A(t("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>b.value=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[e[8]||(e[8]=t("option",{value:""},"All Categories",-1)),(i(!0),u(_,null,k(d.categories,r=>(i(),u("option",{key:r,value:r},n(r),9,xe))),128))],512),[[L,b.value]]),t("div",be,n(((s=d.vehicles.meta)==null?void 0:s.total)||0)+" vehicle(s) found ",1)])]}),_:1})]),_:1}),t("div",ke,[(i(!0),u(_,null,k(d.vehicles.data,s=>(i(),h(l(M),{key:s.id,class:"hover:shadow-lg transition-shadow"},{default:o(()=>[a(l(J),{class:"pb-3"},{default:o(()=>[t("div",he,[t("div",we,[t("div",$e,[a(l(P),{class:"h-5 w-5 text-blue-600"})]),t("div",null,[a(l(K),{class:"text-lg"},{default:o(()=>[c(n(s.make)+" "+n(s.model),1)]),_:2},1024),t("p",Ce,n(s.year)+" â€¢ "+n(s.plate_number),1)])]),a(l(Y),null,{default:o(()=>[a(l(Z),{"as-child":""},{default:o(()=>[a(l(w),{variant:"ghost",size:"sm"},{default:o(()=>[a(l(ce),{class:"h-4 w-4"})]),_:1})]),_:1}),a(l(ee),{align:"end"},{default:o(()=>[a(l($),{onClick:r=>l(v).visit(`/vehicles/${s.id}`)},{default:o(()=>[a(l(P),{class:"mr-2 h-4 w-4"}),e[9]||(e[9]=c(" View Details "))]),_:2,__:[9]},1032,["onClick"]),a(l($),{onClick:r=>l(v).visit(`/vehicles/${s.id}/edit`)},{default:o(()=>[a(l(de),{class:"mr-2 h-4 w-4"}),e[10]||(e[10]=c(" Edit "))]),_:2,__:[10]},1032,["onClick"]),a(l($),{onClick:r=>B(s)},{default:o(()=>[s.status==="out_of_service"?(i(),h(l(Q),{key:0,class:"mr-2 h-4 w-4"})):(i(),h(l(R),{key:1,class:"mr-2 h-4 w-4"})),c(" "+n(s.status==="out_of_service"?"Enable":"Disable"),1)]),_:2},1032,["onClick"]),a(l($),{onClick:r=>N(s),class:"text-red-600"},{default:o(()=>[a(l(ue),{class:"mr-2 h-4 w-4"}),e[11]||(e[11]=c(" Delete "))]),_:2,__:[11]},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]),_:2},1024),a(l(E),null,{default:o(()=>[t("div",Ve,[t("div",Se,[a(X,{class:S([F(s.status),"text-white"])},{default:o(()=>[c(n(s.status.charAt(0).toUpperCase()+s.status.slice(1).replace("_"," ")),1)]),_:2},1032,["class"]),t("span",De,n(s.category),1)]),t("div",Te,[t("div",null,[e[12]||(e[12]=t("span",{class:"text-gray-500"},"Color:",-1)),t("span",Ae,n(s.color),1)]),s.seats?(i(),u("div",Le,[e[13]||(e[13]=t("span",{class:"text-gray-500"},"Seats:",-1)),t("span",Me,n(s.seats),1)])):f("",!0),t("div",null,[e[14]||(e[14]=t("span",{class:"text-gray-500"},"Odometer:",-1)),t("span",Ee,n(s.odometer.toLocaleString())+" km",1)]),s.current_location?(i(),u("div",Pe,[e[15]||(e[15]=t("span",{class:"text-gray-500"},"Location:",-1)),t("span",Ue,n(s.current_location),1)])):f("",!0)]),s.price_daily?(i(),u("div",Fe,[t("div",Ne,[t("div",null,[e[16]||(e[16]=t("span",{class:"text-gray-500 block"},"Daily",-1)),t("span",je,n(V(s.price_daily)),1)]),s.price_weekly?(i(),u("div",Be,[e[17]||(e[17]=t("span",{class:"text-gray-500 block"},"Weekly",-1)),t("span",He,n(V(s.price_weekly)),1)])):f("",!0),s.price_monthly?(i(),u("div",Ie,[e[18]||(e[18]=t("span",{class:"text-gray-500 block"},"Monthly",-1)),t("span",We,n(V(s.price_monthly)),1)])):f("",!0)])])):f("",!0)])]),_:2},1024)]),_:2},1024))),128))]),d.vehicles.links&&d.vehicles.links.length>3?(i(),u("div",qe,[t("nav",ze,[(i(!0),u(_,null,k(d.vehicles.links,s=>(i(),u(_,{key:s.label},[s.url?(i(),h(l(T),{key:0,href:s.url,class:S(["px-3 py-2 text-sm font-medium rounded-md",s.active?"bg-blue-600 text-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"]),innerHTML:s.label},null,8,["href","class","innerHTML"])):(i(),u("span",{key:1,class:S(["px-3 py-2 text-sm font-medium rounded-md opacity-50 cursor-not-allowed text-gray-400"]),innerHTML:s.label},null,8,Oe))],64))),128))])])):f("",!0),a(l(se),{open:p.value,"onUpdate:open":e[4]||(e[4]=s=>p.value=s)},{default:o(()=>[a(l(te),null,{default:o(()=>[a(l(oe),null,{default:o(()=>[a(l(le),null,{default:o(()=>e[19]||(e[19]=[c("Delete Vehicle")])),_:1,__:[19]}),a(l(ae),null,{default:o(()=>{var s,r,D;return[c(" Are you sure you want to delete "+n((s=m.value)==null?void 0:s.make)+" "+n((r=m.value)==null?void 0:r.model)+" ("+n((D=m.value)==null?void 0:D.plate_number)+")? This action cannot be undone. ",1)]}),_:1})]),_:1}),a(l(re),null,{default:o(()=>[a(l(w),{variant:"outline",onClick:e[3]||(e[3]=s=>p.value=!1)},{default:o(()=>e[20]||(e[20]=[c(" Cancel ")])),_:1,__:[20]}),a(l(w),{variant:"destructive",onClick:j},{default:o(()=>e[21]||(e[21]=[c(" Delete Vehicle ")])),_:1,__:[21]})]),_:1})]),_:1})]),_:1},8,["open"])])])]),_:1})],64))}});export{rs as default};
