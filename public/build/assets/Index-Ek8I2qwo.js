import{d as H,A as z,r as g,w as J,J as v,a as u,o as i,b as l,u as a,g as O,e as o,f as t,j as f,S,h as c,k as T,F as _,l as k,t as n,v as L,m as h,n as D}from"./app-D0GmyGZl.js";import{_ as q}from"./AppLayout.vue_vue_type_script_setup_true_lang-ClWf8rUl.js";import{_ as w}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-qW6pmEna.js";import{_ as I}from"./Input.vue_vue_type_script_setup_true_lang-BYNpB8qG.js";import{_ as M,c as E,a as W,b as G}from"./CardTitle.vue_vue_type_script_setup_true_lang-B8yC9NBI.js";import{_ as K}from"./Badge.vue_vue_type_script_setup_true_lang-CzfjdgTs.js";import{C as P,_ as Q,a as R,b as X,c as $}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-D9xg78FF.js";import{_ as Y,a as Z,b as ee,c as se}from"./DialogTitle.vue_vue_type_script_setup_true_lang-ChTFYIdf.js";import{_ as te,a as ae}from"./DialogHeader.vue_vue_type_script_setup_true_lang-Dmhptadr.js";import{P as le}from"./plus-UuOI4Xek.js";import{S as oe}from"./search-B6DeKXW8.js";import{E as re}from"./ellipsis-vertical-cOfzo-Ck.js";import{S as ne}from"./square-pen-ChGa8jSB.js";import{P as ie,a as de}from"./power-BGtrY6AH.js";import{T as ue}from"./trash-2-CGl8CMCI.js";import"./useForwardExpose-DFvrxNgW.js";import"./RovingFocusGroup-DXG8K-w5.js";const ce={class:"py-6"},me={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},fe={class:"md:flex md:items-center md:justify-between mb-6"},_e={class:"mt-4 flex md:mt-0 md:ml-4"},pe={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ge={class:"relative"},ve=["value"],ye=["value"],xe={class:"text-sm text-gray-500 flex items-center"},be={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ke={class:"flex items-start justify-between"},he={class:"flex items-center space-x-3"},we={class:"p-2 bg-blue-100 rounded-lg"},$e={class:"text-sm text-gray-500"},Ce={class:"space-y-3"},Ve={class:"flex items-center justify-between"},Se={class:"text-sm text-gray-500"},De={class:"grid grid-cols-2 gap-2 text-sm"},Ae={class:"ml-1"},Te={key:0},Le={class:"ml-1"},Me={class:"ml-1"},Ee={key:1},Pe={class:"ml-1"},Ue={key:0,class:"pt-2 border-t"},je={class:"grid grid-cols-3 gap-2 text-xs"},Fe={class:"font-medium"},Ne={key:0},Be={class:"font-medium"},He={key:1},ze={class:"font-medium"},Je={key:0,class:"mt-6 flex justify-center"},Oe={class:"flex items-center space-x-1"},qe=["innerHTML"],is=H({__name:"Index",props:{vehicles:{},filters:{},statuses:{},categories:{}},setup(U){const C=U;z();const y=g(C.filters.search||""),x=g(C.filters.status||""),b=g(C.filters.category||""),p=g(!1),m=g(null);J([y,x,b],()=>{v.get("/vehicles",{search:y.value||void 0,status:x.value||void 0,category:b.value||void 0},{preserveState:!0,replace:!0})});const j=d=>{switch(d){case"available":return"bg-green-500";case"rented":return"bg-blue-500";case"maintenance":return"bg-yellow-500";case"out_of_service":return"bg-red-500";default:return"bg-gray-500"}},F=d=>{m.value=d,p.value=!0},N=()=>{m.value&&v.delete(`/vehicles/${m.value.id}`,{onSuccess:()=>{p.value=!1,m.value=null}})},B=d=>{const e=d.status==="out_of_service"?"enable":"disable";v.patch(`/vehicles/${d.id}/${e}`,{},{preserveScroll:!0})},V=d=>d?`AED ${d.toFixed(2)}`:"N/A";return(d,e)=>(i(),u(_,null,[l(a(O),{title:"Vehicles"}),l(q,null,{default:o(()=>[t("div",ce,[t("div",me,[t("div",fe,[e[6]||(e[6]=t("div",{class:"flex-1 min-w-0"},[t("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"}," Vehicles "),t("p",{class:"mt-1 text-sm text-gray-500"}," Manage your fleet of rental vehicles ")],-1)),t("div",_e,[l(a(S),{href:d.route("vehicles.create")},{default:o(()=>[l(a(w),null,{default:o(()=>[l(a(le),{class:"w-4 h-4 mr-2"}),e[5]||(e[5]=c(" Add Vehicle "))]),_:1,__:[5]})]),_:1},8,["href"])])]),l(a(M),{class:"mb-6"},{default:o(()=>[l(a(E),{class:"pt-6"},{default:o(()=>{var s;return[t("div",pe,[t("div",ge,[l(a(oe),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),l(a(I),{modelValue:y.value,"onUpdate:modelValue":e[0]||(e[0]=r=>y.value=r),placeholder:"Search vehicles...",class:"pl-10"},null,8,["modelValue"])]),T(t("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>x.value=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[e[7]||(e[7]=t("option",{value:""},"All Statuses",-1)),(i(!0),u(_,null,k(d.statuses,r=>(i(),u("option",{key:r,value:r},n(r.charAt(0).toUpperCase()+r.slice(1).replace("_"," ")),9,ve))),128))],512),[[L,x.value]]),T(t("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>b.value=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[e[8]||(e[8]=t("option",{value:""},"All Categories",-1)),(i(!0),u(_,null,k(d.categories,r=>(i(),u("option",{key:r,value:r},n(r),9,ye))),128))],512),[[L,b.value]]),t("div",xe,n(((s=d.vehicles.meta)==null?void 0:s.total)||0)+" vehicle(s) found ",1)])]}),_:1})]),_:1}),t("div",be,[(i(!0),u(_,null,k(d.vehicles.data,s=>(i(),h(a(M),{key:s.id,class:"hover:shadow-lg transition-shadow"},{default:o(()=>[l(a(W),{class:"pb-3"},{default:o(()=>[t("div",ke,[t("div",he,[t("div",we,[l(a(P),{class:"h-5 w-5 text-blue-600"})]),t("div",null,[l(a(S),{href:`/vehicles/${s.id}`,class:"block"},{default:o(()=>[l(a(G),{class:"text-lg hover:text-blue-600 transition-colors cursor-pointer"},{default:o(()=>[c(n(s.make)+" "+n(s.model),1)]),_:2},1024)]),_:2},1032,["href"]),t("p",$e,n(s.year)+" â€¢ "+n(s.plate_number),1)])]),l(a(Q),null,{default:o(()=>[l(a(R),{"as-child":""},{default:o(()=>[l(a(w),{variant:"ghost",size:"sm"},{default:o(()=>[l(a(re),{class:"h-4 w-4"})]),_:1})]),_:1}),l(a(X),{align:"end"},{default:o(()=>[l(a($),{onClick:r=>a(v).visit(`/vehicles/${s.id}`)},{default:o(()=>[l(a(P),{class:"mr-2 h-4 w-4"}),e[9]||(e[9]=c(" View Details "))]),_:2,__:[9]},1032,["onClick"]),l(a($),{onClick:r=>a(v).visit(`/vehicles/${s.id}/edit`)},{default:o(()=>[l(a(ne),{class:"mr-2 h-4 w-4"}),e[10]||(e[10]=c(" Edit "))]),_:2,__:[10]},1032,["onClick"]),l(a($),{onClick:r=>B(s)},{default:o(()=>[s.status==="out_of_service"?(i(),h(a(ie),{key:0,class:"mr-2 h-4 w-4"})):(i(),h(a(de),{key:1,class:"mr-2 h-4 w-4"})),c(" "+n(s.status==="out_of_service"?"Enable":"Disable"),1)]),_:2},1032,["onClick"]),l(a($),{onClick:r=>F(s),class:"text-red-600"},{default:o(()=>[l(a(ue),{class:"mr-2 h-4 w-4"}),e[11]||(e[11]=c(" Delete "))]),_:2,__:[11]},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]),_:2},1024),l(a(E),null,{default:o(()=>[t("div",Ce,[t("div",Ve,[l(K,{class:D([j(s.status),"text-white"])},{default:o(()=>[c(n(s.status.charAt(0).toUpperCase()+s.status.slice(1).replace("_"," ")),1)]),_:2},1032,["class"]),t("span",Se,n(s.category),1)]),t("div",De,[t("div",null,[e[12]||(e[12]=t("span",{class:"text-gray-500"},"Color:",-1)),t("span",Ae,n(s.color),1)]),s.seats?(i(),u("div",Te,[e[13]||(e[13]=t("span",{class:"text-gray-500"},"Seats:",-1)),t("span",Le,n(s.seats),1)])):f("",!0),t("div",null,[e[14]||(e[14]=t("span",{class:"text-gray-500"},"Odometer:",-1)),t("span",Me,n(s.odometer.toLocaleString())+" km",1)]),s.current_location?(i(),u("div",Ee,[e[15]||(e[15]=t("span",{class:"text-gray-500"},"Location:",-1)),t("span",Pe,n(s.current_location),1)])):f("",!0)]),s.price_daily?(i(),u("div",Ue,[t("div",je,[t("div",null,[e[16]||(e[16]=t("span",{class:"text-gray-500 block"},"Daily",-1)),t("span",Fe,n(V(s.price_daily)),1)]),s.price_weekly?(i(),u("div",Ne,[e[17]||(e[17]=t("span",{class:"text-gray-500 block"},"Weekly",-1)),t("span",Be,n(V(s.price_weekly)),1)])):f("",!0),s.price_monthly?(i(),u("div",He,[e[18]||(e[18]=t("span",{class:"text-gray-500 block"},"Monthly",-1)),t("span",ze,n(V(s.price_monthly)),1)])):f("",!0)])])):f("",!0)])]),_:2},1024)]),_:2},1024))),128))]),d.vehicles.links&&d.vehicles.links.length>3?(i(),u("div",Je,[t("nav",Oe,[(i(!0),u(_,null,k(d.vehicles.links,s=>(i(),u(_,{key:s.label},[s.url?(i(),h(a(S),{key:0,href:s.url,class:D(["px-3 py-2 text-sm font-medium rounded-md",s.active?"bg-blue-600 text-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"]),innerHTML:s.label},null,8,["href","class","innerHTML"])):(i(),u("span",{key:1,class:D(["px-3 py-2 text-sm font-medium rounded-md opacity-50 cursor-not-allowed text-gray-400"]),innerHTML:s.label},null,8,qe))],64))),128))])])):f("",!0),l(a(Y),{open:p.value,"onUpdate:open":e[4]||(e[4]=s=>p.value=s)},{default:o(()=>[l(a(Z),null,{default:o(()=>[l(a(te),null,{default:o(()=>[l(a(ee),null,{default:o(()=>e[19]||(e[19]=[c("Delete Vehicle")])),_:1,__:[19]}),l(a(se),null,{default:o(()=>{var s,r,A;return[c(" Are you sure you want to delete "+n((s=m.value)==null?void 0:s.make)+" "+n((r=m.value)==null?void 0:r.model)+" ("+n((A=m.value)==null?void 0:A.plate_number)+")? This action cannot be undone. ",1)]}),_:1})]),_:1}),l(a(ae),null,{default:o(()=>[l(a(w),{variant:"outline",onClick:e[3]||(e[3]=s=>p.value=!1)},{default:o(()=>e[20]||(e[20]=[c(" Cancel ")])),_:1,__:[20]}),l(a(w),{variant:"destructive",onClick:N},{default:o(()=>e[21]||(e[21]=[c(" Delete Vehicle ")])),_:1,__:[21]})]),_:1})]),_:1})]),_:1},8,["open"])])])]),_:1})],64))}});export{is as default};
