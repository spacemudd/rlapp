import{d as ut,x as ct,r as H,c as k,w,A as mt,C as ft,m as q,o as g,e as u,f as o,b as l,u as a,S as _t,i as pt,a as D,j as S,h as f,k as C,v as R,t as N,F as Y,l as z,n as yt,p as O}from"./app-BRfPHPqy.js";import{e as gt}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-CaVARo9u.js";import{_ as J}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DDgYw2Ah.js";import{_ as V}from"./Input.vue_vue_type_script_setup_true_lang-BM4Ek6WA.js";import{_ as v}from"./Label.vue_vue_type_script_setup_true_lang-a6NoeD4F.js";import{_ as E}from"./Card.vue_vue_type_script_setup_true_lang-U1IKHtfC.js";import{_ as L}from"./CardContent.vue_vue_type_script_setup_true_lang-aWC4hv9I.js";import{_ as Z}from"./CardDescription.vue_vue_type_script_setup_true_lang-CL8IiMy2.js";import{_ as j,a as B}from"./CardTitle.vue_vue_type_script_setup_true_lang-TFgOJAjh.js";import{_ as Q}from"./AsyncCombobox.vue_vue_type_script_setup_true_lang-CCUiyphT.js";import{n as vt,d as bt,c as xt,t as K,m as st,a as ot,f as I}from"./format-Bw_hER4B.js";import{A as ht}from"./arrow-left-DeevZkZU.js";import{D as X}from"./dollar-sign-BB6ZMg7M.js";import{U as Dt}from"./user-lWjC_tUq.js";import"./useForwardExpose-DvZO0AV6.js";import"./RovingFocusGroup-DpSOVpWp.js";import"./check-CVat-4wU.js";function tt(d,n,e){const[r,c]=vt(e==null?void 0:e.in,d,n),_=et(r,c),b=Math.abs(bt(r,c));r.setDate(r.getDate()-_*b);const p=+(et(r,c)===-_),x=_*(b-p);return x===0?0:x}function et(d,n){const e=d.getFullYear()-n.getFullYear()||d.getMonth()-n.getMonth()||d.getDate()-n.getDate()||d.getHours()-n.getHours()||d.getMinutes()-n.getMinutes()||d.getSeconds()-n.getSeconds()||d.getMilliseconds()-n.getMilliseconds();return e<0?-1:e>0?1:e}function $(d,n){const e=()=>xt(n==null?void 0:n.in,NaN),c=Ct(d);let _;if(c.date){const y=Tt(c.date,2);_=Ut(y.restDateString,y.year)}if(!_||isNaN(+_))return e();const b=+_;let p=0,x;if(c.time&&(p=kt(c.time),isNaN(p)))return e();if(c.timezone){if(x=St(c.timezone),isNaN(x))return e()}else{const y=new Date(b+p),T=K(0,n==null?void 0:n.in);return T.setFullYear(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()),T.setHours(y.getUTCHours(),y.getUTCMinutes(),y.getUTCSeconds(),y.getUTCMilliseconds()),T}return K(b+p+x,n==null?void 0:n.in)}const M={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Nt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Vt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,wt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Ct(d){const n={},e=d.split(M.dateTimeDelimiter);let r;if(e.length>2)return n;if(/:/.test(e[0])?r=e[0]:(n.date=e[0],r=e[1],M.timeZoneDelimiter.test(n.date)&&(n.date=d.split(M.timeZoneDelimiter)[0],r=d.substr(n.date.length,d.length))),r){const c=M.timezone.exec(r);c?(n.time=r.replace(c[1],""),n.timezone=c[1]):n.time=r}return n}function Tt(d,n){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),r=d.match(e);if(!r)return{year:NaN,restDateString:""};const c=r[1]?parseInt(r[1]):null,_=r[2]?parseInt(r[2]):null;return{year:_===null?c:_*100,restDateString:d.slice((r[1]||r[2]).length)}}function Ut(d,n){if(n===null)return new Date(NaN);const e=d.match(Nt);if(!e)return new Date(NaN);const r=!!e[4],c=U(e[1]),_=U(e[2])-1,b=U(e[3]),p=U(e[4]),x=U(e[5])-1;if(r)return Ft(n,p,x)?It(n,p,x):new Date(NaN);{const y=new Date(0);return!Mt(n,_,b)||!At(n,c)?new Date(NaN):(y.setUTCFullYear(n,_,Math.max(c,b)),y)}}function U(d){return d?parseInt(d):1}function kt(d){const n=d.match(Vt);if(!n)return NaN;const e=P(n[1]),r=P(n[2]),c=P(n[3]);return Ht(e,r,c)?e*st+r*ot+c*1e3:NaN}function P(d){return d&&parseFloat(d.replace(",","."))||0}function St(d){if(d==="Z")return 0;const n=d.match(wt);if(!n)return 0;const e=n[1]==="+"?-1:1,r=parseInt(n[2]),c=n[3]&&parseInt(n[3])||0;return qt(r,c)?e*(r*st+c*ot):NaN}function It(d,n,e){const r=new Date(0);r.setUTCFullYear(d,0,4);const c=r.getUTCDay()||7,_=(n-1)*7+e+1-c;return r.setUTCDate(r.getUTCDate()+_),r}const $t=[31,null,31,30,31,30,31,31,30,31,30,31];function nt(d){return d%400===0||d%4===0&&d%100!==0}function Mt(d,n,e){return n>=0&&n<=11&&e>=1&&e<=($t[n]||(nt(d)?29:28))}function At(d,n){return n>=1&&n<=(nt(d)?366:365)}function Ft(d,n,e){return n>=1&&n<=53&&e>=0&&e<=6}function Ht(d,n,e){return d===24?n===0&&e===0:e>=0&&e<60&&n>=0&&n<60&&d>=0&&d<25}function qt(d,n){return n>=0&&n<=59}const Rt={class:"container mx-auto p-6 max-w-7xl"},Yt={class:"flex items-center justify-between mb-8"},zt={class:"flex items-center gap-4"},Ot={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},Et={class:"space-y-2"},Lt={class:"space-y-2"},Zt={class:"space-y-2"},jt={class:"grid grid-cols-2 gap-4"},Bt={class:"space-y-2"},Pt={class:"space-y-2"},Wt={class:"relative"},Gt={key:0,class:"mt-6 space-y-4"},Jt={class:"flex items-center gap-2"},Qt={class:"grid grid-cols-2 gap-4"},Kt={class:"space-y-1"},Xt={class:"text-sm font-medium"},te={class:"space-y-1"},ee={class:"text-sm font-medium"},se={class:"space-y-1"},oe={class:"text-sm font-medium"},ne={class:"space-y-1"},ae={class:"text-sm font-medium"},ie={class:"space-y-1"},de={class:"text-sm font-medium"},re={class:"space-y-4"},le={class:"space-y-2"},ue={key:0,class:"space-y-4"},ce={class:"space-y-2"},me=["value"],fe={class:"space-y-2"},_e={class:"grid grid-cols-2 gap-4"},pe={class:"space-y-2"},ye={class:"space-y-2"},ge={class:"space-y-2"},ve={class:"w-full mt-0"},be={class:"bg-white rounded-lg shadow border"},xe={class:"w-full text-sm"},he={class:"px-4 py-2"},De=["onUpdate:modelValue","readonly","required"],Ne={class:"px-4 py-2 text-center"},Ve=["onUpdate:modelValue"],we={class:"px-4 py-2 text-center"},Ce=["onUpdate:modelValue"],Te={class:"px-4 py-2 text-right font-semibold"},Ue={class:"px-2 py-2 text-center"},ke=["onClick"],Se={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Ie={class:"space-y-2"},$e={class:"relative"},Me={class:"space-y-2"},Ae={class:"space-y-2"},Fe={class:"input w-full bg-gray-50"},He={class:"flex justify-end mt-8"},qe={key:0,class:"text-red-600 mt-4"},ss=ut({__name:"Create",props:{contracts:{},nextInvoiceNumber:{}},setup(d){var G;const n=d,e=ct({invoice_date:I(new Date,"yyyy-MM-dd'T'HH:mm"),due_date:I(new Date,"yyyy-MM-dd'T'HH:mm"),status:"unpaid",currency:"AED",total_days:0,start_datetime:I(new Date,"yyyy-MM-dd'T'HH:mm"),end_datetime:I(new Date,"yyyy-MM-dd'T'HH:mm"),vehicle_id:"",customer_id:"",contract_id:"",sub_total:0,total_discount:0,total_amount:0,type:"Rental",items:[{description:"",amount:0,discount:0}]}),r=H(null),c=H(null),_=k(()=>e.items.reduce((i,t)=>i+(Number(t.amount||0)-Number(t.discount||0)),0));k(()=>_.value-Number(e.total_amount||0));const b=k(()=>{if(!e.contract_id)return null;const i=n.contracts.find(t=>t.id===e.contract_id);return i&&i.total_amount?Number(i.total_amount):null});w(()=>e.items,i=>{const t=i;e.sub_total=t.reduce((s,m)=>s+(Number(m.amount)||0),0),e.total_discount=t.reduce((s,m)=>s+(Number(m.discount)||0),0),e.total_amount=e.sub_total-e.total_discount},{deep:!0}),w(()=>e.status,i=>{i==="paid"&&(e.total_amount=0)}),w([()=>e.start_datetime,()=>e.end_datetime],([i,t])=>{if(i&&t){const s=$(i),m=$(t),h=tt(m,s);e.total_days=Math.max(0,h-1)}}),w(()=>e.vehicle_id,i=>{if(!i){const t=e.items,s=t.findIndex(m=>m.isVehicle);s!==-1&&t.splice(s,1)}});function p(i){return i?new Date(i).toISOString().slice(0,16):""}w(()=>e.contract_id,i=>{const t=e.items;if(i){const s=n.contracts.find(m=>m.id===i);if(s){s.start_date&&(e.start_datetime=p(s.start_date)),s.end_date&&(e.end_datetime=p(s.end_date)),s.vehicle_id&&(e.vehicle_id=s.vehicle_id),s.total_days&&(e.total_days=s.total_days),s.customer_id&&(e.customer_id=s.customer_id);const m=s.vehicle?`${s.vehicle.year} ${s.vehicle.make} ${s.vehicle.model} - ${s.vehicle.plate_number}`:s.vehicle_id,h=s.total_amount?Number(s.total_amount):s.daily_rate&&s.total_days?Number(s.daily_rate)*Number(s.total_days):0,F=t.findIndex(lt=>lt.isVehicle);F!==-1?(t[F].description=m,t[F].amount=h):t.unshift({description:m,amount:h,discount:0,isVehicle:!0})}}else{const s=t.findIndex(m=>m.isVehicle);s!==-1&&t.splice(s,1)}},{immediate:!0}),w(()=>n.contracts,i=>{if(e.contract_id){const t=i.find(s=>s.id===e.contract_id);t&&(t.start_date&&(e.start_datetime=p(t.start_date)),t.end_date&&(e.end_datetime=p(t.end_date)),t.total_days&&(e.total_days=t.total_days),t.customer_id&&(e.customer_id=t.customer_id))}},{immediate:!0,deep:!0});const x=()=>{const i=e.items;e.sub_total=i.reduce((t,s)=>t+(Number(s.amount)||0),0),e.total_discount=i.reduce((t,s)=>t+(Number(s.discount)||0),0),e.total_amount=e.sub_total-e.total_discount,e.items=i.map(t=>({description:t.description||"",amount:Number(t.amount)||0,discount:Number(t.discount)||0})),e.post(route("invoices.store"),{onSuccess:()=>{},onError:t=>{console.error("Form submission errors:",t)}})};H([{id:"1",name:"Sales"},{id:"2",name:"Services"}]);function y(){e.items.push({description:"",amount:0,discount:0})}function T(i){const t=e.items;t[i]&&t[i].isVehicle||t.splice(i,1)}function W(){if(e.start_datetime&&e.end_datetime){const i=$(e.start_datetime),t=$(e.end_datetime),s=tt(t,i);e.total_days=Math.max(0,s-1)}}function at(){e.items.push({description:"Security Deposit",amount:0,discount:0})}const A=(G=mt().url.split("contract_id=")[1])==null?void 0:G.split("&")[0];A&&n.contracts.some(i=>i.id===A)&&(e.contract_id=A),ft(()=>{if(e.contract_id){const i=n.contracts.find(t=>t.id===e.contract_id);i&&(i.start_date&&(e.start_datetime=p(i.start_date)),i.end_date&&(e.end_datetime=p(i.end_date)),i.total_days&&(e.total_days=i.total_days),i.customer_id&&(e.customer_id=i.customer_id))}});const it=i=>{r.value=i},dt=i=>{c.value=i;const t=e.items,s=t.findIndex(m=>m.isVehicle);s!==-1?t[s].description=i.label:t.unshift({description:i.label,amount:0,discount:0,isVehicle:!0})},rt=k(()=>{if(!e.contract_id)return"";const i=n.contracts.find(t=>t.id===e.contract_id);return i?i.vehicle?`${i.vehicle.year} ${i.vehicle.make} ${i.vehicle.model} - ${i.vehicle.plate_number}`:i.vehicle_id||"":""});return(i,t)=>(g(),q(gt,null,{default:u(()=>[o("div",Rt,[o("div",Yt,[o("div",zt,[l(a(J),{variant:"ghost",size:"icon","as-child":"",class:"hover:bg-gray-100"},{default:u(()=>[l(a(_t),{href:i.route("invoices")},{default:u(()=>[l(a(ht),{class:"h-5 w-5"})]),_:1},8,["href"])]),_:1}),t[11]||(t[11]=o("div",null,[o("h1",{class:"text-2xl font-semibold tracking-tight"},"Create New Invoice"),o("p",{class:"text-sm text-gray-500 mt-1"},"Fill in the details below to create a new invoice")],-1))])]),o("form",{id:"invoice-form",onSubmit:pt(x,["prevent"]),class:"space-y-8"},[o("div",Ot,[l(a(E),{class:"border-none shadow-md"},{default:u(()=>[l(a(j),{class:"pb-4"},{default:u(()=>[l(a(B),{class:"text-lg font-medium"},{default:u(()=>t[12]||(t[12]=[f("Basic Information")])),_:1,__:[12]}),l(a(Z),null,{default:u(()=>t[13]||(t[13]=[f("Enter the basic details of the invoice")])),_:1,__:[13]})]),_:1}),l(a(L),{class:"space-y-6"},{default:u(()=>[o("div",Et,[l(Q,{modelValue:a(e).customer_id,"onUpdate:modelValue":t[0]||(t[0]=s=>a(e).customer_id=s),label:"Customer",placeholder:"Search customers...","search-url":"/api/customers/search",required:!0,onOptionSelected:it},null,8,["modelValue"])]),o("div",Lt,[l(a(v),{for:"invoice_date",class:"text-sm font-medium"},{default:u(()=>t[14]||(t[14]=[f("Invoice Date")])),_:1,__:[14]}),l(a(V),{type:"datetime-local",id:"invoice_date",modelValue:a(e).invoice_date,"onUpdate:modelValue":t[1]||(t[1]=s=>a(e).invoice_date=s),required:"",class:"h-10"},null,8,["modelValue"])]),o("div",Zt,[l(a(v),{for:"due_date",class:"text-sm font-medium"},{default:u(()=>t[15]||(t[15]=[f("Due Date")])),_:1,__:[15]}),l(a(V),{type:"datetime-local",id:"due_date",modelValue:a(e).due_date,"onUpdate:modelValue":t[2]||(t[2]=s=>a(e).due_date=s),required:"",class:"h-10"},null,8,["modelValue"])]),o("div",jt,[o("div",Bt,[l(a(v),{for:"status",class:"text-sm font-medium"},{default:u(()=>t[16]||(t[16]=[f("Status")])),_:1,__:[16]}),C(o("select",{id:"status","onUpdate:modelValue":t[3]||(t[3]=s=>a(e).status=s),class:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},t[17]||(t[17]=[o("option",{value:"unpaid"},"Unpaid",-1),o("option",{value:"paid"},"Paid",-1),o("option",{value:"partial_paid"},"Partial Paid",-1)]),512),[[R,a(e).status]])]),o("div",Pt,[l(a(v),{for:"currency",class:"text-sm font-medium"},{default:u(()=>t[18]||(t[18]=[f("Currency")])),_:1,__:[18]}),o("div",Wt,[l(a(X),{class:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),l(a(V),{id:"currency",modelValue:a(e).currency,"onUpdate:modelValue":t[4]||(t[4]=s=>a(e).currency=s),required:"",class:"h-10 pl-10"},null,8,["modelValue"])])])]),r.value?(g(),D("div",Gt,[o("div",Jt,[l(a(Dt),{class:"h-5 w-5 text-gray-400"}),t[19]||(t[19]=o("h3",{class:"text-sm font-medium"},"Customer Information",-1))]),o("div",Qt,[o("div",Kt,[t[20]||(t[20]=o("p",{class:"text-sm text-gray-500"},"Name",-1)),o("p",Xt,N(r.value.name),1)]),o("div",te,[t[21]||(t[21]=o("p",{class:"text-sm text-gray-500"},"Email",-1)),o("p",ee,N(r.value.email),1)]),o("div",se,[t[22]||(t[22]=o("p",{class:"text-sm text-gray-500"},"Phone",-1)),o("p",oe,N(r.value.phone||"N/A"),1)]),o("div",ne,[t[23]||(t[23]=o("p",{class:"text-sm text-gray-500"},"License Number",-1)),o("p",ae,N(r.value.drivers_license_number||"N/A"),1)])]),o("div",ie,[t[24]||(t[24]=o("p",{class:"text-sm text-gray-500"},"Address",-1)),o("p",de,N(r.value.address?`${r.value.address}, ${r.value.city}, ${r.value.country}`:"N/A"),1)])])):S("",!0)]),_:1})]),_:1}),l(a(E),{class:"border-none shadow-md"},{default:u(()=>[l(a(j),{class:"pb-4"},{default:u(()=>[l(a(B),{class:"text-lg font-medium"},{default:u(()=>t[25]||(t[25]=[f("Type")])),_:1,__:[25]}),l(a(Z),null,{default:u(()=>t[26]||(t[26]=[f("Select invoice type and related details")])),_:1,__:[26]})]),_:1}),l(a(L),null,{default:u(()=>[o("div",re,[o("div",le,[l(a(v),{for:"type",class:"text-sm font-medium"},{default:u(()=>t[27]||(t[27]=[f("Type")])),_:1,__:[27]}),C(o("select",{id:"type","onUpdate:modelValue":t[5]||(t[5]=s=>a(e).type=s),class:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},t[28]||(t[28]=[o("option",{value:"Rental"},"Rental",-1),o("option",{value:"Service"},"Service",-1),o("option",{value:"Fee"},"Fee",-1),o("option",{value:"General"},"General",-1)]),512),[[R,a(e).type]])]),a(e).type==="Rental"?(g(),D("div",ue,[o("div",ce,[l(a(v),{for:"contract_id",class:"text-sm font-medium"},{default:u(()=>t[29]||(t[29]=[f("Contract")])),_:1,__:[29]}),C(o("select",{id:"contract_id","onUpdate:modelValue":t[6]||(t[6]=s=>a(e).contract_id=s),class:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[t[30]||(t[30]=o("option",{value:""},"Select a contract",-1)),(g(!0),D(Y,null,z(n.contracts,s=>(g(),D("option",{key:s.id,value:s.id},N(s.contract_number),9,me))),128))],512),[[R,a(e).contract_id]])]),o("div",fe,[l(a(v),{for:"vehicle_id",class:"text-sm font-medium"},{default:u(()=>t[31]||(t[31]=[f("Vehicle")])),_:1,__:[31]}),a(e).contract_id?(g(),q(a(V),{key:0,id:"vehicle_id",value:rt.value,readonly:"",class:"h-10 bg-gray-100 cursor-not-allowed"},null,8,["value"])):(g(),q(Q,{key:1,modelValue:a(e).vehicle_id,"onUpdate:modelValue":t[7]||(t[7]=s=>a(e).vehicle_id=s),placeholder:"Search vehicles...","search-url":"/api/vehicles/search",required:!0,onOptionSelected:dt},null,8,["modelValue"]))]),o("div",_e,[o("div",pe,[l(a(v),{for:"start_datetime",class:"text-sm font-medium"},{default:u(()=>t[32]||(t[32]=[f("Start Date & Time")])),_:1,__:[32]}),l(a(V),{type:"datetime-local",id:"start_datetime",modelValue:a(e).start_datetime,"onUpdate:modelValue":t[8]||(t[8]=s=>a(e).start_datetime=s),required:"",class:"h-10",onChange:W},null,8,["modelValue"])]),o("div",ye,[l(a(v),{for:"end_datetime",class:"text-sm font-medium"},{default:u(()=>t[33]||(t[33]=[f("End Date & Time")])),_:1,__:[33]}),l(a(V),{type:"datetime-local",id:"end_datetime",modelValue:a(e).end_datetime,"onUpdate:modelValue":t[9]||(t[9]=s=>a(e).end_datetime=s),required:"",class:"h-10",onChange:W},null,8,["modelValue"])])]),o("div",ge,[l(a(v),{for:"total_days",class:"text-sm font-medium"},{default:u(()=>t[34]||(t[34]=[f("Total Days")])),_:1,__:[34]}),l(a(V),{type:"number",id:"total_days",modelValue:a(e).total_days,"onUpdate:modelValue":t[10]||(t[10]=s=>a(e).total_days=s),required:"",class:"h-10",readonly:!!a(e).contract_id},null,8,["modelValue","readonly"])])])):S("",!0)])]),_:1})]),_:1})]),o("div",ve,[o("div",be,[o("table",xe,[t[35]||(t[35]=o("thead",{class:"bg-gray-50 border-b"},[o("tr",null,[o("th",{class:"px-4 py-3 text-left font-semibold text-gray-700"},[f("Description"),o("span",{class:"text-red-500"},"*")]),o("th",{class:"px-4 py-3 text-center font-semibold text-gray-700"},[f("Amount"),o("span",{class:"text-red-500"},"*")]),o("th",{class:"px-4 py-3 text-center font-semibold text-gray-700"},"Discount"),o("th",{class:"px-4 py-3 text-right font-semibold text-gray-700"},"Total"),o("th",{class:"px-4 py-3"})])],-1)),o("tbody",null,[(g(!0),D(Y,null,z(a(e).items,(s,m)=>(g(),D("tr",{key:m,class:"border-b hover:bg-gray-50"},[o("td",he,[C(o("input",{"onUpdate:modelValue":h=>s.description=h,readonly:s.isVehicle,class:yt(["w-full border rounded px-2 py-1 focus:ring-2 focus:ring-blue-200 focus:border-blue-400 transition",{"bg-gray-100 cursor-not-allowed":s.isVehicle}]),placeholder:"Description",required:m===0},null,10,De),[[O,s.description]])]),o("td",Ne,[C(o("input",{"onUpdate:modelValue":h=>s.amount=h,type:"number",min:"0",step:"0.01",class:"w-28 border rounded px-2 py-1 text-center focus:ring-2 focus:ring-blue-200 focus:border-blue-400 transition",required:""},null,8,Ve),[[O,s.amount,void 0,{number:!0}]])]),o("td",we,[C(o("input",{"onUpdate:modelValue":h=>s.discount=h,type:"number",min:"0",step:"0.01",class:"w-24 border rounded px-2 py-1 text-center focus:ring-2 focus:ring-blue-200 focus:border-blue-400 transition",placeholder:"0.00"},null,8,Ce),[[O,s.discount,void 0,{number:!0}]])]),o("td",Te,N((Number(s.amount)-Number(s.discount)).toFixed(2)),1),o("td",Ue,[s.isVehicle?S("",!0):(g(),D("button",{key:0,type:"button",onClick:h=>T(m),class:"text-red-500 hover:text-red-700 font-bold text-lg",title:"Remove"}," × ",8,ke))])]))),128))])]),o("div",{class:"px-4 py-3 bg-gray-50 rounded-b-lg flex justify-between items-center"},[o("div",{class:"flex gap-4"},[o("button",{type:"button",class:"text-blue-600 hover:underline font-medium",onClick:y}," + Item "),o("button",{type:"button",class:"text-green-600 hover:underline font-medium",onClick:at}," + Security Deposit ")])])])]),l(a(E),{class:"border-none shadow-md lg:col-span-2"},{default:u(()=>[l(a(j),{class:"pb-4"},{default:u(()=>[l(a(B),{class:"text-lg font-medium"},{default:u(()=>t[36]||(t[36]=[f("Financial Details")])),_:1,__:[36]}),l(a(Z),null,{default:u(()=>t[37]||(t[37]=[f("Enter the payment and amount information")])),_:1,__:[37]})]),_:1}),l(a(L),null,{default:u(()=>[o("div",Se,[o("div",Ie,[l(a(v),{for:"invoice_amount",class:"text-sm font-medium"},{default:u(()=>t[38]||(t[38]=[f("Invoice Amount")])),_:1,__:[38]}),o("div",$e,[l(a(X),{class:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),l(a(V),{id:"invoice_amount",value:b.value!==null?Number(b.value).toFixed(2):Number(_.value).toFixed(2),readonly:"",class:"h-10 pl-10 bg-gray-100 cursor-not-allowed"},null,8,["value"])])]),o("div",Me,[l(a(v),{class:"block text-sm font-medium mb-1"},{default:u(()=>t[39]||(t[39]=[f("Paid Amount")])),_:1,__:[39]}),t[40]||(t[40]=o("div",{class:"input w-full bg-gray-50"},"0",-1))]),o("div",Ae,[l(a(v),{class:"block text-sm font-medium mb-1"},{default:u(()=>t[41]||(t[41]=[f("Remaining Amount")])),_:1,__:[41]}),o("div",Fe,N(a(e).total_amount),1)])])]),_:1})]),_:1}),o("div",He,[l(a(J),{type:"submit",form:"invoice-form",disabled:a(e).processing},{default:u(()=>t[42]||(t[42]=[f(" Create ")])),_:1,__:[42]},8,["disabled"])]),i.$page.props.errors&&Object.keys(i.$page.props.errors).length?(g(),D("div",qe,[(g(!0),D(Y,null,z(i.$page.props.errors,(s,m)=>(g(),D("div",{key:m},N(s),1))),128))])):S("",!0)],32)])]),_:1}))}});export{ss as default};
