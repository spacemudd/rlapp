import{d as q,A as G,r as _,w as I,J as v,a as u,o as n,b as o,u as a,g as R,e as l,f as e,j as f,S as V,h as c,k as S,F as m,l as x,t as i,v as D,n as A,m as N}from"./app-BRfPHPqy.js";import{_ as K}from"./AppLayout.vue_vue_type_script_setup_true_lang-qG5md34Y.js";import{_ as w}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DDgYw2Ah.js";import{_ as Q}from"./Input.vue_vue_type_script_setup_true_lang-BM4Ek6WA.js";import{_ as L}from"./Card.vue_vue_type_script_setup_true_lang-U1IKHtfC.js";import{_ as M}from"./CardContent.vue_vue_type_script_setup_true_lang-aWC4hv9I.js";import{_ as P}from"./Badge.vue_vue_type_script_setup_true_lang-BQjgffHk.js";import{C as F,_ as W,a as X,b as Y,c as U}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-CaVARo9u.js";import{_ as Z,a as ee,b as te,c as se}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DoAe4RpO.js";import{_ as ae,a as oe}from"./DialogHeader.vue_vue_type_script_setup_true_lang-B9Q_iTed.js";import{P as E}from"./plus-CbF1oAG1.js";import{S as re}from"./search-fJphauYe.js";import{E as le}from"./ellipsis-vertical-DNUKb3o_.js";import{S as ne}from"./square-pen-9oUjaD09.js";import{P as ie,a as ue}from"./power-BlBqgkMh.js";import{T as de}from"./trash-2-Czo74-tZ.js";import"./useForwardExpose-DvZO0AV6.js";import"./RovingFocusGroup-DpSOVpWp.js";const ce={class:"py-6"},fe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},me={class:"md:flex md:items-center md:justify-between mb-6"},pe={class:"mt-4 flex md:mt-0 md:ml-4"},_e={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},xe={class:"relative"},ge=["value"],ye=["value"],ve=["value"],we=["value"],he={class:"text-sm text-gray-500 flex items-center"},be={class:"overflow-x-auto"},ke={class:"w-full"},$e={class:"bg-white divide-y divide-gray-200"},Ce={class:"px-6 py-4 whitespace-nowrap"},Ve={class:"flex items-center"},Se={class:"p-2 bg-blue-100 rounded-lg mr-3"},De={class:"text-sm font-medium text-gray-900 hover:text-blue-600 transition-colors cursor-pointer"},Ae={class:"text-sm text-gray-500"},Ue={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ne={class:"px-6 py-4 whitespace-nowrap"},Fe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Te={class:"px-6 py-4 whitespace-nowrap"},Le={class:"flex flex-col"},Me={key:0,class:"text-xs text-gray-500 mt-1"},Pe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ee={class:"space-y-1"},Be={key:0},He={key:1},Oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},je={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ze={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Je={key:0,class:"px-2 py-1 text-xs text-gray-500 border-t"},qe={key:0},Ge={key:1},Ie={key:0,class:"text-center py-12"},Re={class:"mt-6"},Ke={key:0,class:"mt-6 flex justify-center"},Qe={class:"flex items-center space-x-1"},We=["innerHTML"],_t=q({__name:"Index",props:{vehicles:{},filters:{},statuses:{},categories:{},makes:{},ownershipStatuses:{}},setup(B){const g=B;G();const h=_(g.filters.search||""),b=_(g.filters.status||""),k=_(g.filters.category||""),$=_(g.filters.make||""),C=_(g.filters.ownership||""),y=_(!1),p=_(null);I([h,b,k,$,C],()=>{v.get("/vehicles",{search:h.value||void 0,status:b.value||void 0,category:k.value||void 0,make:$.value||void 0,ownership:C.value||void 0},{preserveState:!0,replace:!0})});const H=d=>{switch(d){case"available":return"bg-green-500";case"rented":return"bg-blue-500";case"maintenance":return"bg-yellow-500";case"out_of_service":return"bg-red-500";default:return"bg-gray-500"}},O=d=>{p.value=d,y.value=!0},j=()=>{p.value&&v.delete(`/vehicles/${p.value.id}`,{onSuccess:()=>{y.value=!1,p.value=null}})},z=d=>{const t=d.status==="out_of_service"?"enable":"disable";v.patch(`/vehicles/${d.id}/${t}`,{},{preserveScroll:!0})},J=d=>{const t=Number(d);return isNaN(t)||t===0?"N/A":`AED ${t.toFixed(2)}`};return(d,t)=>(n(),u(m,null,[o(a(R),{title:"Vehicles"}),o(K,null,{default:l(()=>[e("div",ce,[e("div",fe,[e("div",me,[t[8]||(t[8]=e("div",{class:"flex-1 min-w-0"},[e("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"}," Vehicles "),e("p",{class:"mt-1 text-sm text-gray-500"}," Manage your fleet of rental vehicles ")],-1)),e("div",pe,[o(a(V),{href:d.route("vehicles.create")},{default:l(()=>[o(a(w),null,{default:l(()=>[o(a(E),{class:"w-4 h-4 mr-2"}),t[7]||(t[7]=c(" Add Vehicle "))]),_:1,__:[7]})]),_:1},8,["href"])])]),o(a(L),{class:"mb-6"},{default:l(()=>[o(a(M),{class:"pt-6"},{default:l(()=>{var s;return[e("div",_e,[e("div",xe,[o(a(re),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o(a(Q),{modelValue:h.value,"onUpdate:modelValue":t[0]||(t[0]=r=>h.value=r),placeholder:"Search vehicles...",class:"pl-10"},null,8,["modelValue"])]),S(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>b.value=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[t[9]||(t[9]=e("option",{value:""},"All Statuses",-1)),(n(!0),u(m,null,x(d.statuses,r=>(n(),u("option",{key:r,value:r},i(r.charAt(0).toUpperCase()+r.slice(1).replace("_"," ")),9,ge))),128))],512),[[D,b.value]]),S(e("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>k.value=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[t[10]||(t[10]=e("option",{value:""},"All Categories",-1)),(n(!0),u(m,null,x(d.categories,r=>(n(),u("option",{key:r,value:r},i(r),9,ye))),128))],512),[[D,k.value]]),S(e("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>$.value=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[t[11]||(t[11]=e("option",{value:""},"All Makes",-1)),(n(!0),u(m,null,x(d.makes,r=>(n(),u("option",{key:r,value:r},i(r),9,ve))),128))],512),[[D,$.value]]),S(e("select",{"onUpdate:modelValue":t[4]||(t[4]=r=>C.value=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[t[12]||(t[12]=e("option",{value:""},"All Ownership",-1)),(n(!0),u(m,null,x(d.ownershipStatuses,r=>(n(),u("option",{key:r,value:r},i(r.charAt(0).toUpperCase()+r.slice(1)),9,we))),128))],512),[[D,C.value]]),e("div",he,i(((s=d.vehicles.meta)==null?void 0:s.total)||0)+" vehicle(s) found ",1)])]}),_:1})]),_:1}),o(a(L),null,{default:l(()=>[o(a(M),{class:"p-0"},{default:l(()=>[e("div",be,[e("table",ke,[t[16]||(t[16]=e("thead",{class:"bg-gray-50 border-b"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Vehicle "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Plate Number "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Category "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Ownership "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Details "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Odometer "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Daily Rate "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",$e,[(n(!0),u(m,null,x(d.vehicles.data,s=>(n(),u("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",Ce,[e("div",Ve,[e("div",Se,[o(a(F),{class:"h-4 w-4 text-blue-600"})]),e("div",null,[o(a(V),{href:`/vehicles/${s.id}`,class:"block"},{default:l(()=>[e("div",De,i(s.make)+" "+i(s.model),1)]),_:2},1032,["href"]),e("div",Ae,i(s.year),1)])])]),e("td",Ue,i(s.plate_number),1),e("td",Ne,[o(P,{class:A([H(s.status),"text-white"])},{default:l(()=>[c(i(s.status.charAt(0).toUpperCase()+s.status.slice(1).replace("_"," ")),1)]),_:2},1032,["class"])]),e("td",Fe,i(s.category),1),e("td",Te,[e("div",Le,[o(P,{class:A([s.ownership_status==="owned"?"bg-blue-500":"bg-orange-500","text-white text-xs w-fit"])},{default:l(()=>[c(i(s.ownership_status.charAt(0).toUpperCase()+s.ownership_status.slice(1)),1)]),_:2},1032,["class"]),s.ownership_status==="borrowed"&&s.borrowed_from_office?(n(),u("div",Me," From: "+i(s.borrowed_from_office),1)):f("",!0)])]),e("td",Pe,[e("div",Ee,[e("div",null,i(s.color),1),s.seats?(n(),u("div",Be,i(s.seats)+" seats",1)):f("",!0),s.doors?(n(),u("div",He,i(s.doors)+" doors",1)):f("",!0)])]),e("td",Oe,i(s.odometer.toLocaleString())+" km ",1),e("td",je,i(J(s.price_daily)),1),e("td",ze,[o(a(W),null,{default:l(()=>[o(a(X),{"as-child":""},{default:l(()=>[o(a(w),{variant:"ghost",size:"sm"},{default:l(()=>[o(a(le),{class:"h-4 w-4"})]),_:1})]),_:1}),o(a(Y),{align:"end"},{default:l(()=>[o(a(U),{onClick:r=>a(v).visit(`/vehicles/${s.id}`)},{default:l(()=>[o(a(F),{class:"mr-2 h-4 w-4"}),t[13]||(t[13]=c(" View Details "))]),_:2,__:[13]},1032,["onClick"]),o(a(U),{onClick:r=>a(v).visit(`/vehicles/${s.id}/edit`)},{default:l(()=>[o(a(ne),{class:"mr-2 h-4 w-4"}),t[14]||(t[14]=c(" Edit "))]),_:2,__:[14]},1032,["onClick"]),o(a(U),{onClick:r=>z(s)},{default:l(()=>[s.status==="out_of_service"?(n(),N(a(ie),{key:0,class:"mr-2 h-4 w-4"})):(n(),N(a(ue),{key:1,class:"mr-2 h-4 w-4"})),c(" "+i(s.status==="out_of_service"?"Enable":"Disable"),1)]),_:2},1032,["onClick"]),s.ownership_status==="borrowed"?(n(),u("div",Je,[s.borrowed_from_office?(n(),u("div",qe,"From: "+i(s.borrowed_from_office),1)):f("",!0),s.borrowing_end_date?(n(),u("div",Ge,"Until: "+i(new Date(s.borrowing_end_date).toLocaleDateString()),1)):f("",!0)])):f("",!0),o(a(U),{onClick:r=>O(s),class:"text-red-600"},{default:l(()=>[o(a(de),{class:"mr-2 h-4 w-4"}),t[15]||(t[15]=c(" Delete "))]),_:2,__:[15]},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]))),128))])])]),d.vehicles.data.length===0?(n(),u("div",Ie,[o(a(F),{class:"mx-auto h-12 w-12 text-gray-400"}),t[18]||(t[18]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No vehicles found",-1)),t[19]||(t[19]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by adding a new vehicle.",-1)),e("div",Re,[o(a(V),{href:d.route("vehicles.create")},{default:l(()=>[o(a(w),null,{default:l(()=>[o(a(E),{class:"w-4 h-4 mr-2"}),t[17]||(t[17]=c(" Add Vehicle "))]),_:1,__:[17]})]),_:1},8,["href"])])])):f("",!0)]),_:1})]),_:1}),d.vehicles.links&&d.vehicles.links.length>3?(n(),u("div",Ke,[e("nav",Qe,[(n(!0),u(m,null,x(d.vehicles.links,s=>(n(),u(m,{key:s.label},[s.url?(n(),N(a(V),{key:0,href:s.url,class:A(["px-3 py-2 text-sm font-medium rounded-md",s.active?"bg-blue-600 text-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"]),innerHTML:s.label},null,8,["href","class","innerHTML"])):(n(),u("span",{key:1,class:A(["px-3 py-2 text-sm font-medium rounded-md opacity-50 cursor-not-allowed text-gray-400"]),innerHTML:s.label},null,8,We))],64))),128))])])):f("",!0),o(a(Z),{open:y.value,"onUpdate:open":t[6]||(t[6]=s=>y.value=s)},{default:l(()=>[o(a(ee),null,{default:l(()=>[o(a(ae),null,{default:l(()=>[o(a(te),null,{default:l(()=>t[20]||(t[20]=[c("Delete Vehicle")])),_:1,__:[20]}),o(a(se),null,{default:l(()=>{var s,r,T;return[c(" Are you sure you want to delete "+i((s=p.value)==null?void 0:s.make)+" "+i((r=p.value)==null?void 0:r.model)+" ("+i((T=p.value)==null?void 0:T.plate_number)+")? This action cannot be undone. ",1)]}),_:1})]),_:1}),o(a(oe),null,{default:l(()=>[o(a(w),{variant:"outline",onClick:t[5]||(t[5]=s=>y.value=!1)},{default:l(()=>t[21]||(t[21]=[c(" Cancel ")])),_:1,__:[21]}),o(a(w),{variant:"destructive",onClick:j},{default:l(()=>t[22]||(t[22]=[c(" Delete Vehicle ")])),_:1,__:[22]})]),_:1})]),_:1})]),_:1},8,["open"])])])]),_:1})],64))}});export{_t as default};
