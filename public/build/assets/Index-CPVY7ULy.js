import{d as j,r as $,w as C,c as z,a as d,o as n,b as a,u as t,g as B,e as l,f as e,j as _,S as p,h as c,k as D,F as h,l as L,t as i,v as M,m as g,n as U,J as y}from"./app-BRfPHPqy.js";import{_ as I}from"./AppLayout.vue_vue_type_script_setup_true_lang-qG5md34Y.js";import{c as q,_ as f}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DDgYw2Ah.js";import{_ as J}from"./Input.vue_vue_type_script_setup_true_lang-BM4Ek6WA.js";import{_ as V}from"./Card.vue_vue_type_script_setup_true_lang-U1IKHtfC.js";import{_ as A}from"./CardContent.vue_vue_type_script_setup_true_lang-aWC4hv9I.js";import{_ as G}from"./Badge.vue_vue_type_script_setup_true_lang-BQjgffHk.js";import{M as T,_ as R,a as H,b as K,c as v,d as O}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-CaVARo9u.js";import{P as F}from"./plus-CbF1oAG1.js";import{S as Q}from"./search-fJphauYe.js";import{E as W}from"./eye-CRmHCutO.js";import{S as X}from"./square-pen-9oUjaD09.js";import{T as Y}from"./trash-2-Czo74-tZ.js";import"./useForwardExpose-DvZO0AV6.js";import"./RovingFocusGroup-DpSOVpWp.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=q("EllipsisIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),ee={class:"py-6"},te={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},se={class:"mb-6"},ae={class:"sm:flex sm:items-center sm:justify-between"},oe={class:"mt-4 sm:mt-0"},re={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},le={class:"relative"},ie=["value"],ne={class:"flex items-center space-x-2"},ce={class:"mb-4 text-sm text-gray-500"},de={key:0,class:"overflow-x-auto"},ue={class:"w-full"},me={class:"bg-white divide-y divide-gray-200"},fe={class:"px-6 py-4 whitespace-nowrap"},pe={class:"flex items-center"},_e={class:"text-sm font-medium text-gray-900"},ge={key:0,class:"text-sm text-gray-500 max-w-xs truncate"},xe={class:"px-6 py-4 whitespace-nowrap"},he={class:"text-sm text-gray-900"},ye={class:"px-6 py-4 whitespace-nowrap"},ve={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},we={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},be={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ke={key:1,class:"text-center py-12"},Se={class:"mt-1 text-gray-500"},$e={class:"mt-6"},Ce={key:0,class:"flex items-center justify-between"},Le={class:"text-sm text-gray-700"},Ve={class:"flex space-x-2"},Re=j({__name:"Index",props:{locations:{},filters:{},statuses:{}},setup(N){const w=N,u=$(w.filters.search||""),m=$(w.filters.status||""),b=()=>{const o=new URLSearchParams;u.value&&o.set("search",u.value),m.value&&o.set("status",m.value);const s=o.toString(),r=s?`${window.location.pathname}?${s}`:window.location.pathname;y.get(r,{},{preserveState:!0,replace:!0})};let k;C(u,()=>{clearTimeout(k),k=setTimeout(b,300)}),C(m,b);const E=o=>{if(o.vehicles_count>0){alert("Cannot delete location that has vehicles assigned to it.");return}confirm(`Are you sure you want to delete "${o.name}"? This action cannot be undone.`)&&y.delete(`/locations/${o.id}`)},P=o=>{switch(o){case"active":return"bg-green-100 text-green-800 hover:bg-green-200";case"inactive":return"bg-red-100 text-red-800 hover:bg-red-200";default:return"bg-gray-100 text-gray-800 hover:bg-gray-200"}},S=()=>{u.value="",m.value="",y.get("/locations")},x=z(()=>u.value||m.value);return(o,s)=>(n(),d(h,null,[a(t(B),{title:"Locations"}),a(I,null,{default:l(()=>[e("div",ee,[e("div",te,[e("div",se,[e("div",ae,[s[3]||(s[3]=e("div",null,[e("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl"}," Locations "),e("p",{class:"mt-1 text-sm text-gray-500"}," Manage your office locations and vehicle stations ")],-1)),e("div",oe,[a(t(p),{href:o.route("locations.create")},{default:l(()=>[a(t(f),null,{default:l(()=>[a(t(F),{class:"w-4 h-4 mr-2"}),s[2]||(s[2]=c(" Add Location "))]),_:1,__:[2]})]),_:1},8,["href"])])])]),a(t(V),{class:"mb-6"},{default:l(()=>[a(t(A),{class:"pt-6"},{default:l(()=>[e("div",re,[e("div",le,[a(t(Q),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a(t(J),{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=r=>u.value=r),placeholder:"Search locations...",class:"pl-10"},null,8,["modelValue"])]),e("div",null,[D(e("select",{"onUpdate:modelValue":s[1]||(s[1]=r=>m.value=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[s[4]||(s[4]=e("option",{value:""},"All Statuses",-1)),(n(!0),d(h,null,L(o.statuses,r=>(n(),d("option",{key:r,value:r},i(r.charAt(0).toUpperCase()+r.slice(1)),9,ie))),128))],512),[[M,m.value]])]),e("div",ne,[x.value?(n(),g(t(f),{key:0,variant:"outline",onClick:S,class:"flex-1"},{default:l(()=>s[5]||(s[5]=[c(" Clear Filters ")])),_:1,__:[5]})):_("",!0)])])]),_:1})]),_:1}),e("div",ce," Showing "+i(o.locations.from||0)+" to "+i(o.locations.to||0)+" of "+i(o.locations.total)+" locations ",1),a(t(V),{class:"mb-6"},{default:l(()=>[a(t(A),{class:"p-0"},{default:l(()=>[o.locations.data.length>0?(n(),d("div",de,[e("table",ue,[s[9]||(s[9]=e("thead",{class:"border-b border-gray-200 bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Location "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Address "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Vehicles "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Created "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",me,[(n(!0),d(h,null,L(o.locations.data,r=>(n(),d("tr",{key:r.id,class:"hover:bg-gray-50 transition-colors"},[e("td",fe,[e("div",pe,[a(t(T),{class:"w-5 h-5 text-blue-600 mr-3"}),e("div",null,[e("div",_e,i(r.name),1),r.description?(n(),d("div",ge,i(r.description),1)):_("",!0)])])]),e("td",xe,[e("div",he,i(r.full_address||"No address provided"),1)]),e("td",ye,[a(t(G),{class:U(P(r.status))},{default:l(()=>[c(i(r.status),1)]),_:2},1032,["class"])]),e("td",ve,i(r.vehicles_count)+" vehicle"+i(r.vehicles_count!==1?"s":""),1),e("td",we,i(new Date(r.created_at).toLocaleDateString()),1),e("td",be,[a(t(R),null,{default:l(()=>[a(t(H),{"as-child":""},{default:l(()=>[a(t(f),{variant:"ghost",size:"sm",class:"w-8 h-8 p-0"},{default:l(()=>[a(t(Z),{class:"w-4 h-4"})]),_:1})]),_:1}),a(t(K),{align:"end"},{default:l(()=>[a(t(v),{"as-child":""},{default:l(()=>[a(t(p),{href:`/locations/${r.id}`,class:"flex items-center cursor-pointer"},{default:l(()=>[a(t(W),{class:"w-4 h-4 mr-2"}),s[6]||(s[6]=c(" View "))]),_:2,__:[6]},1032,["href"])]),_:2},1024),a(t(v),{"as-child":""},{default:l(()=>[a(t(p),{href:`/locations/${r.id}/edit`,class:"flex items-center cursor-pointer"},{default:l(()=>[a(t(X),{class:"w-4 h-4 mr-2"}),s[7]||(s[7]=c(" Edit "))]),_:2,__:[7]},1032,["href"])]),_:2},1024),a(t(O)),a(t(v),{onClick:Ae=>E(r),class:"text-red-600 focus:text-red-600 cursor-pointer",disabled:r.vehicles_count>0},{default:l(()=>[a(t(Y),{class:"w-4 h-4 mr-2"}),s[8]||(s[8]=c(" Delete "))]),_:2,__:[8]},1032,["onClick","disabled"])]),_:2},1024)]),_:2},1024)])]))),128))])])])):(n(),d("div",ke,[a(t(T),{class:"mx-auto h-12 w-12 text-gray-400"}),s[12]||(s[12]=e("h3",{class:"mt-2 text-lg font-medium text-gray-900"},"No locations found",-1)),e("p",Se,i(x.value?"Try adjusting your search criteria.":"Get started by adding your first location."),1),e("div",$e,[x.value?(n(),g(t(f),{key:1,variant:"outline",onClick:S},{default:l(()=>s[11]||(s[11]=[c(" Clear Filters ")])),_:1,__:[11]})):(n(),g(t(p),{key:0,href:o.route("locations.create")},{default:l(()=>[a(t(f),null,{default:l(()=>[a(t(F),{class:"w-4 h-4 mr-2"}),s[10]||(s[10]=c(" Add Location "))]),_:1,__:[10]})]),_:1},8,["href"]))])]))]),_:1})]),_:1}),o.locations.last_page>1?(n(),d("div",Ce,[e("p",Le," Showing "+i(o.locations.from)+" to "+i(o.locations.to)+" of "+i(o.locations.total)+" results ",1),e("div",Ve,[o.locations.current_page>1?(n(),g(t(p),{key:0,href:`/locations?page=${o.locations.current_page-1}`,"preserve-state":""},{default:l(()=>[a(t(f),{variant:"outline",size:"sm"},{default:l(()=>s[13]||(s[13]=[c("Previous")])),_:1,__:[13]})]),_:1},8,["href"])):_("",!0),o.locations.current_page<o.locations.last_page?(n(),g(t(p),{key:1,href:`/locations?page=${o.locations.current_page+1}`,"preserve-state":""},{default:l(()=>[a(t(f),{variant:"outline",size:"sm"},{default:l(()=>s[14]||(s[14]=[c("Next")])),_:1,__:[14]})]),_:1},8,["href"])):_("",!0)])])):_("",!0)])])]),_:1})],64))}});export{Re as default};
