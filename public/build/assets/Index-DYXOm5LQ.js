import{z as G,E as J,G as K,r as x,A as Q,f as v,c as d,o as i,d as a,e,C as R,w as n,a as t,i as f,t as o,D as S,g as _,j as A,F as m,p as g,k as D,n as U,b as T}from"./app-CAZ12x1D.js";import{_ as W}from"./AppLayout.vue_vue_type_script_setup_true_lang-CWBHZpDB.js";import{_ as w}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B6CdmlMU.js";import{_ as X}from"./Input.vue_vue_type_script_setup_true_lang-dw5fRfhb.js";import{_ as P}from"./Card.vue_vue_type_script_setup_true_lang-DkmQYX9C.js";import{_ as M}from"./CardContent.vue_vue_type_script_setup_true_lang-KPstOoDk.js";import{_ as E}from"./Badge.vue_vue_type_script_setup_true_lang-bJB47Dp4.js";import{C as N,_ as Y,a as Z,b as ee,c as F}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-C_VWVAbV.js";import{_ as te,a as se,b as oe,c as ae}from"./DialogTitle.vue_vue_type_script_setup_true_lang-D5RZQtnr.js";import{_ as re,a as le}from"./DialogHeader.vue_vue_type_script_setup_true_lang-Bd6aop_R.js";import{P as B}from"./plus-C4gS69Cc.js";import{S as ne}from"./search-DO-tE4ov.js";import{E as ie}from"./ellipsis-vertical-CZWFduiW.js";import{S as de}from"./square-pen-wkFwP_LY.js";import{P as ue,a as ce}from"./power-BDyNhnYp.js";import{T as _e}from"./trash-2-fNNtLFr0.js";import"./useForwardExpose-DgE0TLrR.js";import"./RovingFocusGroup-D_a6MLvt.js";const fe={class:"p-6 sm:p-8 max-w-7xl mx-auto"},me={class:"md:flex md:items-center md:justify-between mb-6"},pe={class:"flex-1 min-w-0"},xe={class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"},ge={class:"mt-1 text-sm text-gray-500"},he={class:"mt-4 flex md:mt-0 md:ml-4 rtl:md:mr-4 rtl:md:ml-0"},ye={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},ve={class:"relative"},we=["value"],be=["value"],ke=["value"],$e=["value"],Ce={class:"text-sm text-gray-500 flex items-center"},Ve={class:"overflow-x-auto"},Se={class:"w-full"},Ae={class:"bg-gray-50 border-b"},De={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},Ue={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},Fe={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},Te={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},Ne={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},Le={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},Pe={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},Me={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},Ee={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},Be={class:"bg-white divide-y divide-gray-200"},He={class:"px-6 py-4 whitespace-nowrap"},je={class:"flex items-center"},ze={class:"p-2 bg-blue-100 rounded-lg mr-3"},Ie={class:"text-sm font-medium text-gray-900 hover:text-blue-600 transition-colors cursor-pointer"},Oe={class:"text-sm text-gray-500"},qe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ge={class:"px-6 py-4 whitespace-nowrap"},Je={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ke={class:"px-6 py-4 whitespace-nowrap"},Qe={class:"flex flex-col"},Re={key:0,class:"text-xs text-gray-500 mt-1"},We={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Xe={class:"space-y-1"},Ye={key:0},Ze={key:1},et={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},tt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},st={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ot={key:0,class:"px-2 py-1 text-xs text-gray-500 border-t"},at={key:0},rt={key:1},lt={key:0,class:"text-center py-12"},nt={class:"mt-2 text-sm font-medium text-gray-900"},it={class:"mt-1 text-sm text-gray-500"},dt={class:"mt-6"},ut={key:0,class:"mt-6 flex justify-center"},ct={class:"flex items-center space-x-1"},_t=["innerHTML"],Ft=G({__name:"Index",props:{vehicles:{},filters:{},statuses:{},categories:{},makes:{},ownershipStatuses:{}},setup(H){const{t:c}=J(),h=H;K();const b=x(h.filters.search||""),k=x(h.filters.status||""),$=x(h.filters.category||""),C=x(h.filters.make||""),V=x(h.filters.ownership||""),y=x(!1),p=x(null);Q([b,k,$,C,V],()=>{v.get("/vehicles",{search:b.value||void 0,status:k.value||void 0,category:$.value||void 0,make:C.value||void 0,ownership:V.value||void 0},{preserveState:!0,replace:!0})});const j=u=>{switch(u){case"available":return"bg-green-500";case"rented":return"bg-blue-500";case"maintenance":return"bg-yellow-500";case"out_of_service":return"bg-red-500";default:return"bg-gray-500"}},z=u=>{p.value=u,y.value=!0},I=()=>{p.value&&v.delete(`/vehicles/${p.value.id}`,{onSuccess:()=>{y.value=!1,p.value=null}})},O=u=>{const r=u.status==="out_of_service"?"enable":"disable";v.patch(`/vehicles/${u.id}/${r}`,{},{preserveScroll:!0})},q=u=>{const r=Number(u);return isNaN(r)||r===0?"N/A":`AED ${r.toFixed(2)}`};return(u,r)=>(i(),d(m,null,[a(e(R),{title:e(c)("vehicles")},null,8,["title"]),a(W,null,{default:n(()=>[t("div",fe,[t("div",me,[t("div",pe,[t("h2",xe,o(e(c)("vehicles")),1),t("p",ge,o(e(c)("manage_vehicles")),1)]),t("div",he,[a(e(S),{href:u.route("vehicles.create")},{default:n(()=>[a(e(w),null,{default:n(()=>[a(e(B),{class:"w-4 h-4 mr-2 rtl:mr-0 rtl:ml-2"}),_(" "+o(e(c)("add_vehicle")),1)]),_:1})]),_:1},8,["href"])])]),a(e(P),{class:"mb-6"},{default:n(()=>[a(e(M),{class:"pt-6"},{default:n(()=>{var s;return[t("div",ye,[t("div",ve,[a(e(ne),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 rtl:left-auto rtl:right-3"}),a(e(X),{modelValue:b.value,"onUpdate:modelValue":r[0]||(r[0]=l=>b.value=l),placeholder:e(c)("search_vehicles"),class:"pl-10 rtl:pr-10 rtl:pl-3"},null,8,["modelValue","placeholder"])]),A(t("select",{"onUpdate:modelValue":r[1]||(r[1]=l=>k.value=l),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[r[7]||(r[7]=t("option",{value:""},"All Statuses",-1)),(i(!0),d(m,null,g(u.statuses,l=>(i(),d("option",{key:l,value:l},o(l.charAt(0).toUpperCase()+l.slice(1).replace("_"," ")),9,we))),128))],512),[[D,k.value]]),A(t("select",{"onUpdate:modelValue":r[2]||(r[2]=l=>$.value=l),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[r[8]||(r[8]=t("option",{value:""},"All Categories",-1)),(i(!0),d(m,null,g(u.categories,l=>(i(),d("option",{key:l,value:l},o(l),9,be))),128))],512),[[D,$.value]]),A(t("select",{"onUpdate:modelValue":r[3]||(r[3]=l=>C.value=l),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[r[9]||(r[9]=t("option",{value:""},"All Makes",-1)),(i(!0),d(m,null,g(u.makes,l=>(i(),d("option",{key:l,value:l},o(l),9,ke))),128))],512),[[D,C.value]]),A(t("select",{"onUpdate:modelValue":r[4]||(r[4]=l=>V.value=l),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[r[10]||(r[10]=t("option",{value:""},"All Ownership",-1)),(i(!0),d(m,null,g(u.ownershipStatuses,l=>(i(),d("option",{key:l,value:l},o(l.charAt(0).toUpperCase()+l.slice(1)),9,$e))),128))],512),[[D,V.value]]),t("div",Ce,o(((s=u.vehicles.meta)==null?void 0:s.total)||0)+" vehicle(s) found ",1)])]}),_:1})]),_:1}),a(e(P),null,{default:n(()=>[a(e(M),{class:"p-0"},{default:n(()=>[t("div",Ve,[t("table",Se,[t("thead",Ae,[t("tr",null,[t("th",De,o(e(c)("vehicles")),1),t("th",Ue,o(e(c)("plate_number")),1),t("th",Fe,o(e(c)("status")),1),t("th",Te,o(e(c)("category")),1),t("th",Ne,o(e(c)("ownership_status")),1),t("th",Le,o(e(c)("vehicle_details")),1),t("th",Pe,o(e(c)("odometer")),1),t("th",Me,o(e(c)("daily_rate")),1),t("th",Ee,o(e(c)("actions")),1)])]),t("tbody",Be,[(i(!0),d(m,null,g(u.vehicles.data,s=>(i(),d("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",He,[t("div",je,[t("div",ze,[a(e(N),{class:"h-4 w-4 text-blue-600"})]),t("div",null,[a(e(S),{href:`/vehicles/${s.id}`,class:"block"},{default:n(()=>[t("div",Ie,o(s.make)+" "+o(s.model),1)]),_:2},1032,["href"]),t("div",Oe,o(s.year),1)])])]),t("td",qe,o(s.plate_number),1),t("td",Ge,[a(E,{class:U([j(s.status),"text-white"])},{default:n(()=>[_(o(s.status.charAt(0).toUpperCase()+s.status.slice(1).replace("_"," ")),1)]),_:2},1032,["class"])]),t("td",Je,o(s.category),1),t("td",Ke,[t("div",Qe,[a(E,{class:U([s.ownership_status==="owned"?"bg-blue-500":"bg-orange-500","text-white text-xs w-fit"])},{default:n(()=>[_(o(s.ownership_status.charAt(0).toUpperCase()+s.ownership_status.slice(1)),1)]),_:2},1032,["class"]),s.ownership_status==="borrowed"&&s.borrowed_from_office?(i(),d("div",Re," From: "+o(s.borrowed_from_office),1)):f("",!0)])]),t("td",We,[t("div",Xe,[t("div",null,o(s.color),1),s.seats?(i(),d("div",Ye,o(s.seats)+" seats",1)):f("",!0),s.doors?(i(),d("div",Ze,o(s.doors)+" doors",1)):f("",!0)])]),t("td",et,o(s.odometer.toLocaleString())+" km ",1),t("td",tt,o(q(s.price_daily)),1),t("td",st,[a(e(Y),null,{default:n(()=>[a(e(Z),{"as-child":""},{default:n(()=>[a(e(w),{variant:"ghost",size:"sm"},{default:n(()=>[a(e(ie),{class:"h-4 w-4"})]),_:1})]),_:1}),a(e(ee),{align:"end"},{default:n(()=>[a(e(F),{onClick:l=>e(v).visit(`/vehicles/${s.id}`)},{default:n(()=>[a(e(N),{class:"mr-2 h-4 w-4"}),_(" "+o(e(c)("view")),1)]),_:2},1032,["onClick"]),a(e(F),{onClick:l=>e(v).visit(`/vehicles/${s.id}/edit`)},{default:n(()=>[a(e(de),{class:"mr-2 h-4 w-4"}),_(" "+o(e(c)("edit")),1)]),_:2},1032,["onClick"]),a(e(F),{onClick:l=>O(s)},{default:n(()=>[s.status==="out_of_service"?(i(),T(e(ue),{key:0,class:"mr-2 h-4 w-4"})):(i(),T(e(ce),{key:1,class:"mr-2 h-4 w-4"})),_(" "+o(s.status==="out_of_service"?e(c)("enable"):e(c)("disable")),1)]),_:2},1032,["onClick"]),s.ownership_status==="borrowed"?(i(),d("div",ot,[s.borrowed_from_office?(i(),d("div",at,"From: "+o(s.borrowed_from_office),1)):f("",!0),s.borrowing_end_date?(i(),d("div",rt,"Until: "+o(new Date(s.borrowing_end_date).toLocaleDateString()),1)):f("",!0)])):f("",!0),a(e(F),{onClick:l=>z(s),class:"text-red-600"},{default:n(()=>[a(e(_e),{class:"mr-2 h-4 w-4"}),r[11]||(r[11]=_(" Delete "))]),_:2,__:[11]},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]))),128))])])]),u.vehicles.data.length===0?(i(),d("div",lt,[a(e(N),{class:"mx-auto h-12 w-12 text-gray-400"}),t("h3",nt,o(e(c)("no_results")),1),t("p",it,o(e(c)("get_started_add_vehicle")),1),t("div",dt,[a(e(S),{href:u.route("vehicles.create")},{default:n(()=>[a(e(w),null,{default:n(()=>[a(e(B),{class:"w-4 h-4 mr-2"}),r[12]||(r[12]=_(" Add Vehicle "))]),_:1,__:[12]})]),_:1},8,["href"])])])):f("",!0)]),_:1})]),_:1}),u.vehicles.links&&u.vehicles.links.length>3?(i(),d("div",ut,[t("nav",ct,[(i(!0),d(m,null,g(u.vehicles.links,s=>(i(),d(m,{key:s.label},[s.url?(i(),T(e(S),{key:0,href:s.url,class:U(["px-3 py-2 text-sm font-medium rounded-md",s.active?"bg-blue-600 text-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"]),innerHTML:s.label},null,8,["href","class","innerHTML"])):(i(),d("span",{key:1,class:U(["px-3 py-2 text-sm font-medium rounded-md opacity-50 cursor-not-allowed text-gray-400"]),innerHTML:s.label},null,8,_t))],64))),128))])])):f("",!0),a(e(te),{open:y.value,"onUpdate:open":r[6]||(r[6]=s=>y.value=s)},{default:n(()=>[a(e(se),null,{default:n(()=>[a(e(re),null,{default:n(()=>[a(e(oe),null,{default:n(()=>r[13]||(r[13]=[_("Delete Vehicle")])),_:1,__:[13]}),a(e(ae),null,{default:n(()=>{var s,l,L;return[_(" Are you sure you want to delete "+o((s=p.value)==null?void 0:s.make)+" "+o((l=p.value)==null?void 0:l.model)+" ("+o((L=p.value)==null?void 0:L.plate_number)+")? This action cannot be undone. ",1)]}),_:1})]),_:1}),a(e(le),null,{default:n(()=>[a(e(w),{variant:"outline",onClick:r[5]||(r[5]=s=>y.value=!1)},{default:n(()=>r[14]||(r[14]=[_(" Cancel ")])),_:1,__:[14]}),a(e(w),{variant:"destructive",onClick:I},{default:n(()=>r[15]||(r[15]=[_(" Delete Vehicle ")])),_:1,__:[15]})]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1})],64))}});export{Ft as default};
