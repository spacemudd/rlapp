import{y as ct,x as V,r as T,z as ut,c as f,o as d,d as a,u as t,B as mt,w as n,a as s,b as m,g as c,S as R,e as i,t as r,n as S,F as j,l as F,f as I}from"./app-DGPdy8tE.js";import{_ as ft}from"./AppLayout.vue_vue_type_script_setup_true_lang-DjXAUWl4.js";import{_ as g}from"./Card.vue_vue_type_script_setup_true_lang-Co6J2EDk.js";import{_ as y}from"./CardContent.vue_vue_type_script_setup_true_lang-Du459S1j.js";import{_ as v,a as b}from"./CardTitle.vue_vue_type_script_setup_true_lang-B5rRz984.js";import{_ as C}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CNQnzH42.js";import{_ as U}from"./Badge.vue_vue_type_script_setup_true_lang-Qg0OJQBV.js";import{_ as L,a as M,R as A,b as z,c as h,d as q,C as pt,F as G}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-CiHZFCnI.js";import{_ as K,a as X,b as Y,c as H}from"./DialogTitle.vue_vue_type_script_setup_true_lang-n__8TIm7.js";import{_ as J,a as Z}from"./DialogHeader.vue_vue_type_script_setup_true_lang-CRpOQyG4.js";import{_ as O}from"./Textarea.vue_vue_type_script_setup_true_lang-DkdQ9_uS.js";import{_ as B}from"./Label.vue_vue_type_script_setup_true_lang-CVb8RRH_.js";import{_ as _t}from"./Input.vue_vue_type_script_setup_true_lang-D-rdJcos.js";import{A as gt}from"./arrow-left-BcJtCQ4-.js";import{S as yt}from"./square-pen-CT2dwMII.js";import{E as vt}from"./ellipsis-vertical-CXezkwnq.js";import{D as bt}from"./download-Cv5NQgkC.js";import{P as wt,C as xt}from"./play-Cdh3m4Ep.js";import{C as Ct}from"./circle-check-big-DNjE99S3.js";import{C as P}from"./calendar-Ddrjuz5x.js";import{T as ht}from"./trash-2-BG7sNOXV.js";import{U as kt}from"./user-CubPX3qw.js";import{D as Dt}from"./dollar-sign-D8aiooa7.js";import"./useForwardExpose-C0eXaZLz.js";import"./RovingFocusGroup-ChOkdtX6.js";const Et={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},$t={class:"space-y-6"},Vt={class:"space-y-4"},St={class:"flex items-center justify-between"},jt={class:"text-2xl font-semibold text-gray-900"},At={class:"flex items-center gap-3 mt-1"},Pt={class:"text-gray-500 text-sm"},Tt={class:"flex items-center gap-2"},Ft={class:"flex flex-col"},Ut={class:"font-medium"},Bt={class:"text-sm text-gray-500"},Nt={class:"grid gap-6 lg:grid-cols-2"},Rt={class:"font-semibold text-lg"},It={class:"grid grid-cols-1 gap-2 mt-2 text-sm"},Lt={class:"flex justify-between"},Mt={class:"flex justify-between"},zt={class:"flex justify-between"},qt={class:"text-right"},Gt={class:"flex justify-between"},Kt={class:"flex justify-between"},Xt={class:"font-semibold text-lg"},Yt={class:"grid grid-cols-1 gap-2 mt-2 text-sm"},Ht={class:"flex justify-between"},Jt={class:"font-medium"},Zt={class:"flex justify-between"},Ot={class:"flex justify-between"},Qt={class:"text-right"},Wt={class:"grid gap-6 md:grid-cols-2 lg:grid-cols-4"},te={class:"font-medium"},ee={class:"font-medium"},se={class:"font-medium"},ae={class:"font-medium"},oe={class:"grid gap-6 md:grid-cols-2 lg:grid-cols-4"},ne={class:"font-medium"},re={class:"font-medium"},le={key:0},ie={class:"font-medium"},de={key:1},ce={class:"font-medium"},ue={class:"mt-6 p-4 bg-green-50 border border-green-200 rounded-md"},me={class:"flex justify-between items-center"},fe={class:"text-2xl font-bold text-green-900"},pe={class:"text-sm text-green-700 mt-1"},_e={class:"grid gap-6 lg:grid-cols-2"},ge={class:"text-sm whitespace-pre-wrap"},ye={class:"text-sm whitespace-pre-wrap"},ve={class:"space-y-3"},be=["onClick"],we={class:"flex items-center gap-3"},xe={class:"font-medium"},Ce={class:"text-sm text-gray-500"},he={class:"text-right"},ke={class:"font-medium"},De={class:"space-y-3"},Ee={class:"flex items-center gap-3"},$e={class:"font-medium"},Ve={class:"text-sm text-gray-500"},Se={key:0,class:"text-sm text-gray-600 mt-1"},je={class:"text-right"},Ae={class:"font-medium"},Pe={class:"text-sm text-gray-500"},Te={class:"text-sm"},Fe={class:"space-y-2"},Ue={key:0,class:"text-sm text-red-600"},Be={class:"space-y-2"},Ne={key:0,class:"text-sm text-red-600"},Re={class:"space-y-2"},Ie={key:0,class:"text-sm text-red-600"},Le={key:0,class:"p-4 bg-green-50 border border-green-200 rounded-md"},Me={class:"space-y-1 text-sm text-green-700"},ze={class:"flex justify-between"},qe={class:"flex justify-between"},Ge={class:"flex justify-between"},Ke={class:"capitalize"},Xe={class:"flex justify-between font-bold border-t border-green-300 pt-1 mt-2"},vs=ct({__name:"Show",props:{contract:{}},setup(Q){const w=Q,x=V({void_reason:""}),u=V({days:1,reason:""}),D=T(!1),E=T(!1),_=T(null),W=()=>{V({}).patch(route("contracts.activate",w.contract.id))},tt=()=>{V({}).patch(route("contracts.complete",w.contract.id))},et=()=>{confirm("Are you sure you want to delete this contract? This action cannot be undone.")&&V({}).delete(route("contracts.destroy",w.contract.id))},st=()=>{x.patch(route("contracts.void",w.contract.id),{onSuccess:()=>{D.value=!1,x.reset()}})},at=()=>{u.post(route("contracts.extend",w.contract.id),{onSuccess:()=>{E.value=!1,u.reset(),_.value=null}})},N=async()=>{var o;if(!u.days||u.days<1){_.value=null;return}try{const e=route("contracts.extension-pricing",w.contract.id)+`?days=${u.days}`,l=await fetch(e,{method:"GET",headers:{Accept:"application/json","X-CSRF-Token":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||""}});if(!l.ok)throw new Error(`Failed to calculate extension pricing: ${l.status}`);const $=await l.json();_.value=$.success?$:null}catch(e){console.error("Error calculating extension pricing:",e),_.value=null}};ut(()=>u.days,()=>{N()});const ot=()=>{E.value=!0,u.reset(),u.days=1,u.reason="",N()},nt=()=>{window.open(route("contracts.pdf",w.contract.id),"_blank")},rt=o=>{switch(o){case"draft":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"active":return"bg-blue-100 text-blue-800 border-blue-200";case"completed":return"bg-green-100 text-green-800 border-green-200";case"void":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},lt=o=>{switch(o){case"paid":case"fully_paid":return"bg-green-100 text-green-800 border-green-200";case"partial_paid":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"unpaid":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},p=(o,e="AED")=>{["USD","EUR","AED","GBP","JPY","CAD","AUD","CHF","CNY","SEK","NZD"].includes(e.toUpperCase())||(e="AED");try{return new Intl.NumberFormat("en-AE",{style:"currency",currency:e,minimumFractionDigits:2}).format(o)}catch{return`${e} ${o.toFixed(2)}`}},k=o=>new Date(o).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),it=o=>new Date(o).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});function dt(){window.location.href=route("invoices.create",{contract_id:w.contract.id})}return(o,e)=>(d(),f(j,null,[a(t(mt),{title:`Contract ${o.contract.contract_number}`},null,8,["title"]),a(ft,null,{default:n(()=>[s("div",Et,[s("div",$t,[s("div",Vt,[s("div",null,[a(t(R),{href:o.route("contracts.index")},{default:n(()=>[a(t(C),{variant:"ghost",size:"sm"},{default:n(()=>[a(t(gt),{class:"w-4 h-4 mr-2"}),e[8]||(e[8]=i(" Back to Contracts "))]),_:1,__:[8]})]),_:1},8,["href"])]),s("div",St,[s("div",null,[s("h1",jt,r(o.contract.contract_number),1),s("div",At,[a(t(U),{class:S([rt(o.contract.status),"text-xs"])},{default:n(()=>[i(r(o.contract.status.charAt(0).toUpperCase()+o.contract.status.slice(1)),1)]),_:1},8,["class"]),s("span",Pt,"Created by "+r(o.contract.created_by),1)])]),s("div",Tt,[o.contract.status==="draft"?(d(),m(t(R),{key:0,href:o.route("contracts.edit",o.contract.id)},{default:n(()=>[a(t(C),{variant:"outline"},{default:n(()=>[a(t(yt),{class:"w-4 h-4 mr-2"}),e[9]||(e[9]=i(" Edit Contract "))]),_:1,__:[9]})]),_:1},8,["href"])):c("",!0),o.contract.invoices&&o.contract.invoices.length>0?(d(),m(t(L),{key:1},{default:n(()=>[a(t(M),{asChild:""},{default:n(()=>[a(t(C),{variant:"outline"},{default:n(()=>[a(t(A),{class:"w-4 h-4 mr-2"}),i(" View Invoices ("+r(o.contract.invoices.length)+") ",1)]),_:1})]),_:1}),a(t(z),{align:"end",class:"w-64"},{default:n(()=>[(d(!0),f(j,null,F(o.contract.invoices,l=>(d(),m(t(h),{key:l.id,class:"cursor-pointer",onClick:$=>o.$inertia.visit(o.route("invoices.show",l.id))},{default:n(()=>[s("div",Ft,[s("span",Ut,r(l.invoice_number),1),s("span",Bt,r(p(l.total_amount))+" - "+r(l.status),1)])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):c("",!0),a(t(L),null,{default:n(()=>[a(t(M),{asChild:""},{default:n(()=>[a(t(C),{variant:"outline",size:"sm"},{default:n(()=>[a(t(vt),{class:"w-4 h-4"})]),_:1})]),_:1}),a(t(z),{align:"end",class:"w-48"},{default:n(()=>[a(t(h),{onClick:nt,class:"cursor-pointer"},{default:n(()=>[a(t(bt),{class:"w-4 h-4 mr-2"}),e[10]||(e[10]=i(" Download PDF "))]),_:1,__:[10]}),a(t(q)),o.contract.status==="draft"?(d(),m(t(h),{key:0,onClick:W,class:"cursor-pointer"},{default:n(()=>[a(t(wt),{class:"w-4 h-4 mr-2"}),e[11]||(e[11]=i(" Activate Contract "))]),_:1,__:[11]})):c("",!0),o.contract.status==="active"?(d(),m(t(h),{key:1,onClick:tt,class:"cursor-pointer"},{default:n(()=>[a(t(Ct),{class:"w-4 h-4 mr-2"}),e[12]||(e[12]=i(" Complete Contract "))]),_:1,__:[12]})):c("",!0),o.contract.status!=="void"?(d(),m(t(h),{key:2,onClick:dt,class:"cursor-pointer"},{default:n(()=>[a(t(A),{class:"w-4 h-4 mr-2"}),e[13]||(e[13]=i(" Create Invoice "))]),_:1,__:[13]})):c("",!0),o.contract.status==="active"?(d(),m(t(h),{key:3,onClick:ot,class:"cursor-pointer"},{default:n(()=>[a(t(P),{class:"w-4 h-4 mr-2"}),e[14]||(e[14]=i(" Extend Contract "))]),_:1,__:[14]})):c("",!0),o.contract.status!=="completed"&&o.contract.status!=="void"?(d(),m(t(q),{key:4})):c("",!0),o.contract.status!=="completed"&&o.contract.status!=="void"?(d(),m(t(h),{key:5,onClick:e[0]||(e[0]=l=>D.value=!0),class:"cursor-pointer text-red-600 focus:text-red-600"},{default:n(()=>[a(t(xt),{class:"w-4 h-4 mr-2"}),e[15]||(e[15]=i(" Void Contract "))]),_:1,__:[15]})):c("",!0),o.contract.status==="draft"?(d(),m(t(h),{key:6,onClick:et,class:"cursor-pointer text-red-600 focus:text-red-600"},{default:n(()=>[a(t(ht),{class:"w-4 h-4 mr-2"}),e[16]||(e[16]=i(" Delete Contract "))]),_:1,__:[16]})):c("",!0)]),_:1})]),_:1})])])]),s("div",Nt,[a(t(g),null,{default:n(()=>[a(t(v),null,{default:n(()=>[a(t(b),{class:"flex items-center gap-2"},{default:n(()=>[a(t(kt),{class:"w-5 h-5"}),e[17]||(e[17]=i(" Customer Information "))]),_:1,__:[17]})]),_:1}),a(t(y),{class:"space-y-4"},{default:n(()=>[s("div",null,[s("h3",Rt,r(o.contract.customer.first_name)+" "+r(o.contract.customer.last_name),1),s("div",It,[s("div",Lt,[e[18]||(e[18]=s("span",{class:"text-gray-500"},"Email:",-1)),s("span",null,r(o.contract.customer.email),1)]),s("div",Mt,[e[19]||(e[19]=s("span",{class:"text-gray-500"},"Phone:",-1)),s("span",null,r(o.contract.customer.phone),1)]),s("div",zt,[e[20]||(e[20]=s("span",{class:"text-gray-500"},"Address:",-1)),s("span",qt,r(o.contract.customer.address)+", "+r(o.contract.customer.city)+", "+r(o.contract.customer.country),1)]),s("div",Gt,[e[21]||(e[21]=s("span",{class:"text-gray-500"},"License:",-1)),s("span",null,r(o.contract.customer.drivers_license_number),1)]),s("div",Kt,[e[22]||(e[22]=s("span",{class:"text-gray-500"},"License Expiry:",-1)),s("span",null,r(k(o.contract.customer.drivers_license_expiry)),1)])])])]),_:1})]),_:1}),a(t(g),null,{default:n(()=>[a(t(v),null,{default:n(()=>[a(t(b),{class:"flex items-center gap-2"},{default:n(()=>[a(t(pt),{class:"w-5 h-5"}),e[23]||(e[23]=i(" Vehicle Information "))]),_:1,__:[23]})]),_:1}),a(t(y),{class:"space-y-4"},{default:n(()=>[s("div",null,[s("h3",Xt,r(o.contract.vehicle.year)+" "+r(o.contract.vehicle.make)+" "+r(o.contract.vehicle.model),1),s("div",Yt,[s("div",Ht,[e[24]||(e[24]=s("span",{class:"text-gray-500"},"Plate Number:",-1)),s("span",Jt,r(o.contract.vehicle.plate_number),1)]),s("div",Zt,[e[25]||(e[25]=s("span",{class:"text-gray-500"},"Color:",-1)),s("span",null,r(o.contract.vehicle.color),1)]),s("div",Ot,[e[26]||(e[26]=s("span",{class:"text-gray-500"},"Chassis Number:",-1)),s("span",Qt,r(o.contract.vehicle.chassis_number),1)])])])]),_:1})]),_:1})]),a(t(g),null,{default:n(()=>[a(t(v),null,{default:n(()=>[a(t(b),{class:"flex items-center gap-2"},{default:n(()=>[a(t(P),{class:"w-5 h-5"}),e[27]||(e[27]=i(" Contract Details "))]),_:1,__:[27]})]),_:1}),a(t(y),null,{default:n(()=>[s("div",Wt,[s("div",null,[e[28]||(e[28]=s("span",{class:"text-sm text-gray-500"},"Start Date",-1)),s("p",te,r(k(o.contract.start_date)),1)]),s("div",null,[e[29]||(e[29]=s("span",{class:"text-sm text-gray-500"},"End Date",-1)),s("p",ee,r(k(o.contract.end_date)),1)]),s("div",null,[e[30]||(e[30]=s("span",{class:"text-sm text-gray-500"},"Total Days",-1)),s("p",se,r(o.contract.total_days)+" days",1)]),s("div",null,[e[31]||(e[31]=s("span",{class:"text-sm text-gray-500"},"Created",-1)),s("p",ae,r(it(o.contract.created_at)),1)])])]),_:1})]),_:1}),a(t(g),null,{default:n(()=>[a(t(v),null,{default:n(()=>[a(t(b),{class:"flex items-center gap-2"},{default:n(()=>[a(t(Dt),{class:"w-5 h-5"}),e[32]||(e[32]=i(" Financial Details "))]),_:1,__:[32]})]),_:1}),a(t(y),null,{default:n(()=>[s("div",oe,[s("div",null,[e[33]||(e[33]=s("span",{class:"text-sm text-gray-500"},"Daily Rate",-1)),s("p",ne,r(p(o.contract.daily_rate,o.contract.currency)),1)]),s("div",null,[e[34]||(e[34]=s("span",{class:"text-sm text-gray-500"},"Security Deposit",-1)),s("p",re,r(p(o.contract.deposit_amount,o.contract.currency)),1)]),o.contract.mileage_limit?(d(),f("div",le,[e[35]||(e[35]=s("span",{class:"text-sm text-gray-500"},"Mileage Limit",-1)),s("p",ie,r(o.contract.mileage_limit.toLocaleString())+" KM",1)])):c("",!0),o.contract.excess_mileage_rate?(d(),f("div",de,[e[36]||(e[36]=s("span",{class:"text-sm text-gray-500"},"Excess Mileage Rate",-1)),s("p",ce,r(p(o.contract.excess_mileage_rate,o.contract.currency))+"/KM",1)])):c("",!0)]),s("div",ue,[s("div",me,[e[37]||(e[37]=s("span",{class:"text-green-800 font-medium"},"Total Contract Amount:",-1)),s("span",fe,r(p(o.contract.total_amount,o.contract.currency)),1)]),s("p",pe,r(o.contract.total_days)+" days × "+r(p(o.contract.daily_rate,o.contract.currency)),1)])]),_:1})]),_:1}),s("div",_e,[o.contract.terms_and_conditions?(d(),m(t(g),{key:0},{default:n(()=>[a(t(v),null,{default:n(()=>[a(t(b),{class:"flex items-center gap-2"},{default:n(()=>[a(t(G),{class:"w-5 h-5"}),e[38]||(e[38]=i(" Terms and Conditions "))]),_:1,__:[38]})]),_:1}),a(t(y),null,{default:n(()=>[s("p",ge,r(o.contract.terms_and_conditions),1)]),_:1})]),_:1})):c("",!0),o.contract.notes?(d(),m(t(g),{key:1},{default:n(()=>[a(t(v),null,{default:n(()=>[a(t(b),{class:"flex items-center gap-2"},{default:n(()=>[a(t(G),{class:"w-5 h-5"}),e[39]||(e[39]=i(" Internal Notes "))]),_:1,__:[39]})]),_:1}),a(t(y),null,{default:n(()=>[s("p",ye,r(o.contract.notes),1)]),_:1})]),_:1})):c("",!0)]),o.contract.invoices&&o.contract.invoices.length>0?(d(),m(t(g),{key:0},{default:n(()=>[a(t(v),null,{default:n(()=>[a(t(b),{class:"flex items-center gap-2"},{default:n(()=>[a(t(A),{class:"w-5 h-5"}),i(" Associated Invoices ("+r(o.contract.invoices.length)+") ",1)]),_:1})]),_:1}),a(t(y),null,{default:n(()=>[s("div",ve,[(d(!0),f(j,null,F(o.contract.invoices,l=>(d(),f("div",{key:l.id,class:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",onClick:$=>o.$inertia.visit(o.route("invoices.show",l.id))},[s("div",we,[a(t(A),{class:"w-4 h-4 text-gray-500"}),s("div",null,[s("p",xe,r(l.invoice_number),1),s("p",Ce,r(k(l.invoice_date)),1)])]),s("div",he,[s("p",ke,r(p(l.total_amount)),1),a(t(U),{class:S([lt(l.status),"text-xs"])},{default:n(()=>[i(r(l.status.replace("_"," ").toUpperCase()),1)]),_:2},1032,["class"])])],8,be))),128))])]),_:1})]),_:1})):c("",!0),o.contract.extensions&&o.contract.extensions.length>0?(d(),m(t(g),{key:1},{default:n(()=>[a(t(v),null,{default:n(()=>[a(t(b),{class:"flex items-center gap-2"},{default:n(()=>[a(t(P),{class:"w-5 h-5"}),i(" Contract Extensions ("+r(o.contract.extensions.length)+") ",1)]),_:1})]),_:1}),a(t(y),null,{default:n(()=>[s("div",De,[(d(!0),f(j,null,F(o.contract.extensions,l=>(d(),f("div",{key:l.id,class:S(["flex items-center justify-between p-3 border rounded-lg",l.status==="approved"?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"])},[s("div",Ee,[a(t(P),{class:S(["w-4 h-4",l.status==="approved"?"text-green-600":"text-yellow-600"])},null,8,["class"]),s("div",null,[s("p",$e,"Extension #"+r(l.extension_number),1),s("p",Ve," +"+r(l.extension_days)+" days ("+r(k(l.original_end_date))+" → "+r(k(l.new_end_date))+") ",1),l.reason?(d(),f("p",Se,r(l.reason),1)):c("",!0)])]),s("div",je,[s("p",Ae,r(p(l.total_amount)),1),s("p",Pe,r(p(l.daily_rate))+"/day",1),a(t(U),{class:S([l.status==="approved"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800","text-xs mt-1"])},{default:n(()=>[i(r(l.status.toUpperCase()),1)]),_:2},1032,["class"])])],2))),128))])]),_:1})]),_:1})):c("",!0),o.contract.status==="void"&&o.contract.void_reason?(d(),m(t(g),{key:2},{default:n(()=>[a(t(v),null,{default:n(()=>[a(t(b),{class:"text-red-600"},{default:n(()=>e[40]||(e[40]=[i("Void Reason")])),_:1,__:[40]})]),_:1}),a(t(y),null,{default:n(()=>[s("p",Te,r(o.contract.void_reason),1)]),_:1})]),_:1})):c("",!0)])]),a(t(K),{open:D.value,"onUpdate:open":e[3]||(e[3]=l=>D.value=l)},{default:n(()=>[a(t(X),{class:"sm:max-w-md"},{default:n(()=>[a(t(J),null,{default:n(()=>[a(t(Y),null,{default:n(()=>e[41]||(e[41]=[i("Void Contract")])),_:1,__:[41]}),a(t(H),null,{default:n(()=>e[42]||(e[42]=[i(" Please provide a reason for voiding this contract. This action cannot be undone. ")])),_:1,__:[42]})]),_:1}),s("form",{onSubmit:I(st,["prevent"]),class:"space-y-4"},[s("div",Fe,[a(t(B),{for:"void_reason"},{default:n(()=>e[43]||(e[43]=[i("Void Reason *")])),_:1,__:[43]}),a(t(O),{id:"void_reason",modelValue:t(x).void_reason,"onUpdate:modelValue":e[1]||(e[1]=l=>t(x).void_reason=l),placeholder:"Enter the reason for voiding this contract...",required:"",rows:"4"},null,8,["modelValue"]),t(x).errors.void_reason?(d(),f("div",Ue,r(t(x).errors.void_reason),1)):c("",!0)]),a(t(Z),null,{default:n(()=>[a(t(C),{type:"button",variant:"outline",onClick:e[2]||(e[2]=l=>D.value=!1)},{default:n(()=>e[44]||(e[44]=[i(" Cancel ")])),_:1,__:[44]}),a(t(C),{type:"submit",variant:"destructive",disabled:t(x).processing},{default:n(()=>[i(r(t(x).processing?"Voiding...":"Void Contract"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]),a(t(K),{open:E.value,"onUpdate:open":e[7]||(e[7]=l=>E.value=l)},{default:n(()=>[a(t(X),{class:"sm:max-w-md"},{default:n(()=>[a(t(J),null,{default:n(()=>[a(t(Y),null,{default:n(()=>e[45]||(e[45]=[i("Extend Contract")])),_:1,__:[45]}),a(t(H),null,{default:n(()=>e[46]||(e[46]=[i(" Extend the contract duration with automatic pricing calculation based on current vehicle rates. ")])),_:1,__:[46]})]),_:1}),s("form",{onSubmit:I(at,["prevent"]),class:"space-y-4"},[s("div",Be,[a(t(B),{for:"extension_days"},{default:n(()=>e[47]||(e[47]=[i("Additional Days *")])),_:1,__:[47]}),a(t(_t),{id:"extension_days",modelValue:t(u).days,"onUpdate:modelValue":e[4]||(e[4]=l=>t(u).days=l),modelModifiers:{number:!0},type:"number",min:"1",max:"365",required:"",placeholder:"Enter number of days"},null,8,["modelValue"]),t(u).errors.days?(d(),f("div",Ne,r(t(u).errors.days),1)):c("",!0)]),s("div",Re,[a(t(B),{for:"extension_reason"},{default:n(()=>e[48]||(e[48]=[i("Reason for Extension")])),_:1,__:[48]}),a(t(O),{id:"extension_reason",modelValue:t(u).reason,"onUpdate:modelValue":e[5]||(e[5]=l=>t(u).reason=l),placeholder:"Enter reason for extending the contract...",rows:"3"},null,8,["modelValue"]),t(u).errors.reason?(d(),f("div",Ie,r(t(u).errors.reason),1)):c("",!0)]),_.value?(d(),f("div",Le,[e[53]||(e[53]=s("h4",{class:"font-medium text-green-800 mb-2"},"Extension Pricing Preview:",-1)),s("div",Me,[s("div",ze,[e[49]||(e[49]=s("span",null,"Duration:",-1)),s("span",null,r(t(u).days)+" days",1)]),s("div",qe,[e[50]||(e[50]=s("span",null,"Rate:",-1)),s("span",null,r(p(_.value.daily_rate))+"/day",1)]),s("div",Ge,[e[51]||(e[51]=s("span",null,"Pricing Tier:",-1)),s("span",Ke,r(_.value.pricing_tier),1)]),s("div",Xe,[e[52]||(e[52]=s("span",null,"Total Extension Cost:",-1)),s("span",null,r(p(_.value.total_amount)),1)])])])):c("",!0),a(t(Z),null,{default:n(()=>[a(t(C),{type:"button",variant:"outline",onClick:e[6]||(e[6]=l=>E.value=!1)},{default:n(()=>e[54]||(e[54]=[i(" Cancel ")])),_:1,__:[54]}),a(t(C),{type:"submit",disabled:t(u).processing||!_.value},{default:n(()=>[i(r(t(u).processing?"Extending...":"Extend Contract"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{vs as default};
